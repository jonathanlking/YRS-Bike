function LayoutObject(a){this._attrs=a||{},this._setElement(),this._sizeState=[],this._ratioState=[]}function Layout(a){this._attrs=a||{},this._init()}-1!=document.location.pathname.indexOf("/details")&&(document.location=document.location.toLocaleString().replace("details",""));var JS={resizeEvent:void 0!==window.orientation?"orientationchange":"resize",_customEvents:{},isIE:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1},isAndroid:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("android")?!0:!1},isMobile:function(){return void 0===window.orientation?!1:!0},one:function(a,b){var b=b||document;return b.querySelector(a)},all:function(a,b){var b=b||document;return b.querySelectorAll(a)},on:function(a,b,c,d){var c=d?c.bind(d):c;return a.addEventListener(b,c),c},off:function(a,b,c){a.removeEventListener(b,c,!1)},onCustom:function(a,b){JS._customEvents[a]=b},fireCustom:function(a,b){var c=b||this;JS._customEvents[a]&&JS._customEvents[a](c)},addClass:function(a,b){if(!JS.hasClass(a,b)){var c=a.className;c+=" "+b,a.className=c.trim()}},removeClass:function(a,b){var c=a.className,d=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");c=c.replace(d,""),a.className=c.trim()},hasClass:function(a,b){var c=a.className,d=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");return d.test(c)},toggleClass:function(a,b){JS.hasClass(a,b)?JS.removeClass(a,b):JS.addClass(a,b)},requestFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},fire:function(a,b){if(!document.createEventObject){var c=document.createEvent("HTMLEvents");return c.initEvent(b,!0,!0),!a.dispatchEvent(c)}var c=document.createEventObject();a.fireEvent("on"+b,c)},percentagesOfPercentages:function(a,b,c,d,e){if(a instanceof Array&&2===a.length&&b instanceof Array&&2===b.length&&"number"==typeof c){var f=a[0],g=a[1],h=g>f?f:g,i=g>f?g:f,j=b[0],k=b[1],l=k>j?k:j;if(c>i||h>c)return null;if(cDiff=Math.abs(f-g),inDiff=Math.abs(j-k),f===i)if(j===l)var m=k;else var m=0-k;else if(j===l)var m=0-j;else var m=j;return Math.abs((c-h)/cDiff*inDiff+m).toFixed(e||0).toString()+(d||"")}},getStyle:function(a,b,c){var d="";return document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),d=a.currentStyle[b]),c===!0?parseFloat(d):d},simulateClick:function(a){{var b=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});!a.dispatchEvent(b)}},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)}};JS.isIE()!==!1&&JS.isIE()<9&&(document.documentElement.className+=" ie--old"),LayoutObject.prototype={_switch:function(a,b){var c,d=this[b];if(d)for(c=0;c<d.length;c++)JS.removeClass(this._el,d[c]);if(a)for(c=0;c<a.length;c++)JS.addClass(this._el,a[c]);this[b]=a},_setElement:function(){this._el=document.querySelector(this._attrs.el)},refreshElement:function(){this._setElement()},switchRatioClassName:function(a){this._switch(a,"_ratioState")},switchSizeClassName:function(a){this._switch(a,"_sizeState")},getCurrentSize:function(){return this._el.clientWidth}},Layout.prototype={getElement:function(){return this._el},_init:function(){this.events=new EventsHandler,this._attrs.ratios&&(this._sync(),this._bindEvents())},_destructor:function(){this.events.detachEvents()},_sync:function(){var a;if(this._attrs.ratios&&(a=this._syncRatios()),a&&a.ratio&&a.ratio.sizes)this._syncSizes(a);else{var b,c=this._attrs.children;for(var d in c)b=this._getChildById(d),b.switchSizeClassName(null)}},_syncRatios:function(){var a=this._getCurrentRatio(),b=this._getMatchingRatios(a);return b.ratio&&this._applyRatioClass(b.ratio,b.label),b},_syncSizes:function(a){var b,c,d,e=a.ratio.sizes;for(var f in e)b=this._getChildById(f),b&&(c=b.getCurrentSize(),d=this._getMatchingSize(c,e[f]),b.switchSizeClassName(d.size?d.size:null))},_bindEvents:function(){this.events.registerEvent(window,"resize",this._sync,this)},_getMatchingSize:function(a,b){var c=null,d=0,e=document.documentElement.clientHeight;for(var f in b)if(d=parseInt(f),d>a){closestS=f;var g=b[f];for(var h in g)if(hsize=parseInt(h),hsize>=e){closestH=h;break}break}return{size:b[closestS][closestH],label:c}},_getMatchingRatios:function(a){var b,c,d=this._attrs.ratios||[],e=1/0,f=null;for(var g in d)c=parseFloat(g),(c>=1&&a>=1||1>c&&1>a)&&(b=Math.abs(c-a),e>b&&(e=b,f=g));return{ratio:d[f],label:f}},_applyRatioClass:function(a){var b,c;for(var d in a)b=this._getChildById(d),b&&(c=a[d],b.switchRatioClassName(c))},_getCurrentSize:function(){return window.innerWidth},_getCurrentRatio:function(){var a=window.innerWidth,b=window.innerHeight;return a/b},_getChildById:function(a){var b=this._attrs.children;return b[a]}};var EventsHandler=function(){this._events=[]};EventsHandler.prototype={registerEvent:function(a,b,c,d){var e=JS.on(a,b,c,d);this._events.push({target:a,eventname:b,listener:e})},detachEvents:function(a){for(var b,c=0;c<this._events.length;c++)if(b=this._events[c],a){if(a&&b.target===a.currentTarget){JS.off(b.target,b.eventname,b.listener);break}}else JS.off(b.target,b.eventname,b.listener)}};var DepLoader=function(){function init(){var a=document.getElementById("inline-deps");if(!a||JS.hasClass(document.body,"deps--loaded"))webfontsReady();else{var b=a.innerText||a.textContent;JS.addClass(document.body,"deps--loaded"),processRaw(b)}}function isListed(a,b){for(var c=!1,d=0;d<b.length;d++)if(-1!==a.indexOf(b[d])){c=!0;break}return c}function webfontsReady(){JS.fireCustom("webfontsReady")}function processRaw(html){var el=document.createElement("div");el.innerHTML=html;for(var scripts=el.querySelectorAll("script"),styles=el.querySelectorAll("link"),common,signup,dialog,systemPage,commerce,others=[],inline=[],styleWhiteList=["site.css","dialog-","signup-","logomark"],scriptBlackList=["management-","ckeditor-"],style,l=0;l<styles.length;l++)style=styles[l],-1!==style.href.indexOf("fonts.css")&&load(style,webfontsReady),isListed(style.href,styleWhiteList)&&load(style);for(var script,src,s=0;s<scripts.length;s++)script=scripts[s],src=script.src,src||"dynamic-assets-loader"==script.getAttribute("data-sqs-type")||-1===script.innerHTML.indexOf("SQUARESPACE_ROLLUPS")||eval(script.innerHTML);if(window.SQUARESPACE_ROLLUPS)for(var key in SQUARESPACE_ROLLUPS){var rollup=SQUARESPACE_ROLLUPS[key],js=rollup.js,css=rollup.css;-1!==key.indexOf("common")?common=js:-1!==key.indexOf("commerce")?commerce=js:-1!==key.indexOf("signup")?signup=js:-1!==key.indexOf("dialog")?dialog=js:-1!==key.indexOf("system-page")?systemPage=js:key?others=others.concat(js):inline=inline.concat(js)}for(var s=0;s<scripts.length;s++)script=scripts[s],src=script.src,isListed(src,scriptBlackList)||(-1!==src.indexOf("common-")?common=script:-1!==src.indexOf("commerce-")?commerce=script:-1!==src.indexOf("signup-")?signup=script:-1!==src.indexOf("dialog-")?dialog=script:-1!==src.indexOf("system-page-")?systemPage=script:src?others.push(script):inline.push(script));var loadOthers=function(){for(var a=0;a<inline.length;a++)"dynamic-assets-loader"!=inline[a].getAttribute("data-sqs-type")&&load(inline[a]);for(var b=0;b<others.length;b++)load(others[b]);JS.fireCustom("dependenciesLoaded")},loadSystemPage=load.bind(this,systemPage,loadOthers,"system page"),loadSignup=load.bind(this,signup,loadSystemPage,"signup"),loadCommerce=load.bind(this,commerce,loadSignup,"commerce"),loadDialog=load.bind(this,dialog,loadCommerce,"dialog"),loadCommon=load.bind(this,common,loadDialog,"common");loadCommon()}function load(tag,callback,label){var head=document.head;if(Array.isArray(tag)&&(tag={nodeName:"SCRIPT",src:tag[0]}),!tag)return void(callback&&callback());if(tag&&(tag.src||tag.href)){var child;"SCRIPT"===tag.nodeName?(child=document.createElement("script"),child.src=tag.src,-1!==child.src.indexOf("combo")&&(callback=function(){Y.Squarespace.FrontSite.Core.domReady(!0)})):"LINK"===tag.nodeName&&"stylesheet"===tag.rel&&(child=document.createElement("link"),child.href=tag.href,child.rel="stylesheet",child.tyle="text/css"),child&&(child.onload=callback,head.appendChild(child))}else try{eval(tag.innerHTML)}catch(e){}}return{init:init,webfontsReady:webfontsReady}}(),Parallax=function(a){this._foreground=a.foreground,this._background=a.background,this._events=new EventsHandler,this._extra={x:2,y:3,orientation:{x:10,y:8}},this._currentPos={x:null,y:null},this._firstTransition=!0,this._cache(),this._bindEvents(),this._stretchCanvas()};Parallax.prototype={destructor:function(){this._events.detachEvents()},_cache:function(){this._midpoint={x:window.innerWidth/2,y:window.innerHeight/2},this._range={x:window.innerWidth-this._midpoint.x,y:window.innerHeight-this._midpoint.y}},_stretchCanvas:function(){this._background.style.position="absolute",this._background.style.width=100+this._extra.x+"%",this._background.style.height=100+this._extra.y+"%",this._updateCoords(0,0,!0)},_bindEvents:function(){window.DeviceOrientationEvent&&void 0!==window.orientation?(this._extra.x=this._extra.orientation.x,this._extra.y=this._extra.orientation.y,this._isIOS()&&this._events.registerEvent(window,"deviceorientation",this._moveWithOrientation,this)):void 0===window.ontouchstart&&this._events.registerEvent(document,"mousemove",this._mouseMove,this),this._events.registerEvent(window,JS.resizeEvent,this._cache,this)},_isIOS:function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},_moveWithOrientation:function(a){var b=window.orientation,c=90===b||-90===b,d=c?a.beta:a.gamma;d*=180===b||-90===b?-1:1;var e=60,f=(c?a.gamma:a.beta)+(b>0?e:-e);f*=0>=b?1:-1;var g=d/20,h=f/30;this._updateCoords(g,h)},_displaceBackground:function(a,b){this._background.style.left=a+"%",this._background.style.top=b+"%"},_updateCoords:function(a,b,c){a=Math.max(-1,Math.min(1,a)),b=Math.max(-1,Math.min(1,b));var d=-a*(this._extra.x/2)-this._extra.x/2,e=-b*(this._extra.y/2)-this._extra.y/2;return e=e.toFixed(2),d=d.toFixed(2),c?void this._displaceBackground(d,e):void((this._currentPos.x!==d||this._currentPos.y!==e)&&(this._currentPos.x=d,this._currentPos.y=e,JS.requestFrame.call(window,function(){this._firstTransition===!0?(this._firstTransition="translating",this._displaceBackground(this._currentPos.x,this._currentPos.y),JS.addClass(this._background,"first-transition"),setTimeout(function(){JS.removeClass(this._background,"first-transition"),this._firstTransition=!1}.bind(this),600)):"translating"!==this._firstTransition&&this._displaceBackground(this._currentPos.x,this._currentPos.y)}.bind(this))))},_mouseMove:function(a){var b=a.x||a.pageX,c=a.y||a.pageY,d={x:b,y:c},e=(d.x-this._midpoint.x)/this._range.x,f=(d.y-this._midpoint.y)/this._range.y;this._updateCoords(e,f)}};var DetailsGallery={scenes:new Array,active:0,nav:{left:".slider-arrow--left",right:".slider-arrow--right"},init:function(a){-1!=document.location.pathname.indexOf("/details")&&(document.location=document.location.toLocaleString().replace("details","")),this.events=new EventsHandler,this.layout=JS.one(".layout"),this.autoplay=a.autoplay||!1,this.playlists=new Array(["designers","startups","smallbusiness","stores","artists","musicians","architects","photographers","performers","weddings","inventors","bloggers","restaurants","writers","publications","directors"],["smallbusiness","bloggers","architects","artists","stores","photographers","publications","musicians","writers","inventors","directors","startups","designers","restaurants","performers","weddings"],["photographers","stores","inventors","directors","publications","architects","startups","performers","smallbusiness","bloggers","weddings","restaurants","writers","artists","designers","musicians"]),this.plist=this.playlists[a.playlist]||this.playlists[Math.floor(Math.random()*this.playlists.length)],this.totalScenes=this.plist.length,this.landingInfo={plistIndex:this.playlists.indexOf(this.plist),plistFirstPersona:this.plist[0]},this.scenes[0]=new Details({index:0}),JS.onCustom("backgroundloaded",function(){}.bind(this)),JS.isMobile()&&this.events.registerEvent(JS.one(".layout"),"touchend",function(a){JS.hasClass(a.target,"cta")||JS.hasClass(a.target,"icon")||JS.hasClass(a.target,"navigation-trigger")||JS.hasClass(a.target,"button")||this.navScene(a.changedTouches[0].pageX>=document.documentElement.clientWidth/2?"next":"prev")},this),this.events.registerEvent(document,"click",function(){this.autoplay===!0&&this.stopAutoplay()},this)}};DetailsGallery.newScene=function(a){this.scenes.push(new Details({preload:!0,persona:a,index:this.scenes.length}))},DetailsGallery.preload=function(){clearTimeout(this.preloadTimer),this.preloadTimer=null,this.scenes.length<this.plist.length&&this.newScene(this.plist[this.scenes.length]),this.autoplay===!0&&JS.onCustom("uicompleted",function(){clearTimeout(this.autoplayTimer),this.autoplay===!0&&(this.autoplayTimer=setTimeout(function(){this.navScene("next")}.bind(this),5e3))}.bind(this))},DetailsGallery.getActive=function(){for(var a=document.location.hash.substring(1),b=0;b<this.scenes.length;b++)if(a==this.scenes[b].sceneName)return b},DetailsGallery.stopAutoplay=function(){this.autoplay=!1,clearTimeout(this.autoplayTimer),this.autoplayTimer=null},DetailsGallery.navScene=function(a){if(a){if(!DetailsGallery.precached&&0==DetailsGallery.autoplay&&!JS.isMobile()){for(var b=0;6>b;b++)DetailsGallery.preload();DetailsGallery.precached=!0}if("next"===a&&this.scenes[this.active+1]&&JS.hasClass(this.scenes[this.active+1].scene,"preloading"))return Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls(),!1;if(this.active=DetailsGallery.getActive(),this.lastActive=this.scenes[this.active],"next"===a){if(this.preloadTimer&&(clearTimeout(this.preloadTimer),this.preloadTimer=null),this.active>=this.totalScenes-1)return Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls(),JS.addClass(JS.one(".viz"),"slider--bounce-right"),void setTimeout(function(){JS.removeClass(JS.one(".viz"),"slider--bounce-right")},500);this.active<this.totalScenes-1&&!this.scenes[this.active+1]?(this.newScene(this.plist[this.active+1]),JS.onCustom("backgroundloaded",function(a){this.scenes[this.active+1]===a&&(this.finishSceneSetup({obj:this.scenes[this.active+1]}),this.updateUI())}.bind(this))):(this.active+=1,this.active>=this.scenes.length&&(this.active=0),this.scenes[this.active].rebindUI(),this.transitionScenes(this.lastActive.scene,this.scenes[this.active]),this.scenes[this.active].windowResize(),this.updateUI()),this.active<this.scenes.length&&(this.preloadTimer=setTimeout(function(){this.preload()}.bind(this),DetailsGallery.preloadInterval))}else if("prev"===a){if(this.active-=1,this.active<0)return this.active=0,Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls(),JS.addClass(JS.one(".viz"),"slider--bounce-left"),void setTimeout(function(){JS.removeClass(JS.one(".viz"),"slider--bounce-left")},500);this.scenes[this.active].rebindUI(),this.transitionScenes(this.lastActive.scene,this.scenes[this.active]),this.scenes[this.active].windowResize(),this.updateUI()}this.lastActive&&this.lastActive.destructor()}},DetailsGallery.finishSceneSetup=function(a){this.lastActive=this.scenes[this.active].scene,this.scenes[this.active].destructor(),this.active=DetailsGallery.getActive(),JS.hasClass(a.obj.scene,"loaded")||(JS.onCustom("uicompleted",function(){this.scenes[this.active].rebindUI(),this.scenes[this.active].layoutObj._sync(),this.transitionScenes(this.lastActive,this.scenes[this.active])}.bind(this,this.lastActive)),this.scenes[this.active].completeUI())},DetailsGallery.transitionScenes=function(a,b){return a&&b&&a.style?(a.style.display="block",b.scene.style.display="block",setTimeout(function(){JS.addClass(b.scene,"viz"),JS.removeClass(a,"viz"),b.setUIColors(b.scene),b.windowResize(),Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls()}.bind(this),1),void setTimeout(function(){a.style.display="",b.scene.style.display=""}.bind(this),500)):!1},DetailsGallery.updateUI=function(){0==this.active?(JS.addClass(JS.one(this.nav.left),"slider-arrow--disabled"),JS.removeClass(JS.one(this.nav.right),"slider-arrow--disabled")):this.active>=this.totalScenes-1?(JS.removeClass(JS.one(this.nav.left),"slider-arrow--disabled"),JS.addClass(JS.one(this.nav.right),"slider-arrow--disabled")):(JS.removeClass(JS.one(this.nav.left),"slider-arrow--disabled"),JS.removeClass(JS.one(this.nav.right),"slider-arrow--disabled")),this.updateHash()},DetailsGallery.updateHash=function(){"undefined"==typeof YUI?document.location.hash=this.scenes[this.active].sceneName:void 0!==this.scenes[this.active]&&Y.Squarespace.FrontSite.Core.router.save("#"+this.scenes[this.active].sceneName)};var Details=function(a){this.defaults={preload:!1},this.config=this.merge(this.defaults,a),this.init()};Details.prototype={init:function(){return this.getSceneDeviceConfigs(),this.scenes=JS.all(".scene"),this.scene=this.selectScene(),null===this.scene?!1:(this.sceneName=this.scene.getAttribute("data-scene"),this.deviceType=this.personaInfo[this.sceneName].device,this.config.preload?JS.addClass(this.scene,"preloading"):JS.addClass(this.scene,"viz"),this.layout=JS.one(".layout"),this.events=new EventsHandler,this.imageVersion=1,this.imageBasePath="http://cf.squarespace.com/details-062614/",this.resizeEventInfo={},JS.addClass(this.layout,"details--loading"),void("undefined"==typeof DetailsGallery.iswebp?(DetailsGallery.iswebp=this.supportsWebP(),JS.onCustom("webpsupportchecked",function(){this.renderUI(),this.bindUI(),this.buildImg(this.backgroundImg,this.backgrnd)}.bind(this))):(this.renderUI(),this.bindUI(),this.buildImg(this.backgroundImg,this.backgrnd))))},destructor:function(){this.detailsParallax&&this.detailsParallax.destructor(),this.events.detachEvents(),this.layoutObj&&this.layoutObj._destructor()},merge:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},renderUI:function(){this.winWidth=document.documentElement.clientWidth,this.winHeight=document.documentElement.clientHeight,this.backgrnd=this.scene.querySelector(".background"),this.device=this.scene.querySelector(".device"),this.deviceImageEl=null,this.detailstextwrapper=JS.one(".details-text-wrapper"),this.websiteContentLoaded=0,this.deviceContentArray=[],this.setDeviceAttrs(),this.personaInfo[this.sceneName].tall===!0&&JS.addClass(this.device,"laptop--tall"),this.backgroundImg=new Image,this.deviceImgLowres=new Image,this.deviceImg=new Image},bindUI:function(){this.events.registerEvent(window,JS.resizeEvent,this.windowResize,this),JS.onCustom("webfontsReady",function(){setTimeout(function(){JS.addClass(JS.one("body"),"webfonts--ready")},500)}),JS.onCustom("dependenciesLoaded",function(){JS.isAndroid()&&!JS.hasClass(JS.one("body"),"webfonts--ready")&&DepLoader.webfontsReady()}),this.events.registerEvent(this.backgroundImg,"load",function(a){this.loadTimer.stop=(new Date).getTime(),this.loadTimer.start&&this.loadTimer(),this.backgrnd.style.backgroundImage="url("+this.backgroundImg.getAttribute("src")+")",this.buildImg(this.deviceImgLowres,this.device,"lowres"),JS.fireCustom("backgroundloaded",this),this.events.detachEvents(a)},this),this.events.registerEvent(this.deviceImgLowres,"load",function(a){this.device.appendChild(this.deviceImgLowres),this.deviceImageEl=this.device.querySelector("img"),this.config.preload||this.setUIColors(this.scene),this.layoutImg=new LayoutObject({el:"."+this.sceneName+" .device > img"}),this.layoutObj=new Layout({children:{text:new LayoutObject({el:".details-text-wrapper"}),device:new LayoutObject({el:"."+this.sceneName+" .device"}),img:this.layoutImg,button:new LayoutObject({el:".button"}),background:new LayoutObject({el:".viz .background"})},ratios:this.getRatioConfigs(this.sceneName)}),this.scaleDeviceImage(),JS.addClass(JS.one("body"),"ready"),DepLoader.init(),this.setLoaded(this.scene),JS.fireCustom("uicompleted",this.scene),JS.isMobile()&&(this.detailsParallax=new Parallax({foreground:this.device,background:this.backgrnd})),this.deviceImg.className=this.deviceImgLowres.className,this.buildImg(this.deviceImg,this.device),this.events.detachEvents(a)},this),this.events.registerEvent(this.deviceImg,"load",function(a){this.swapHighres(this.device,this.deviceImgLowres,this.deviceImg),JS.removeClass(this.deviceImg,"loading"),this.layoutImg.refreshElement(),this.config.preload&&JS.removeClass(this.scene,"preloading"),this.events.detachEvents(a)},this),this.events.registerEvent(window,"mousemove",function(a){var b=a.x||a.pageX;b>.7*this.winWidth?(JS.one(DetailsGallery.nav.left).style.opacity="",JS.one(DetailsGallery.nav.right).style.opacity=.7):b<.3*this.winWidth?(JS.one(DetailsGallery.nav.left).style.opacity=.7,JS.one(DetailsGallery.nav.right).style.opacity=""):(JS.one(DetailsGallery.nav.left).style.opacity="",JS.one(DetailsGallery.nav.right).style.opacity="")},this)},rebindUI:function(){this.events&&(this.events.detachEvents(),this.events._events=[]),this.bindUI(),JS.isMobile()&&(this.detailsParallax=new Parallax({foreground:this.device,background:this.backgrnd})),this.layoutObj._bindEvents(),JS.one(".details-text-wrapper").style.opacity=1},completeUI:function(){this.buildImg(this.deviceImgLowres,this.device,"lowres")},setUIColors:function(a){"dark"===a.getAttribute("data-color")?(JS.addClass(this.detailstextwrapper,"details-text-wrapper--dark"),JS.addClass(JS.one(".details-text-wrapper .button"),"button--dark"),setTimeout(function(){JS.addClass(JS.one(".cta"),"cta--dark"),JS.addClass(JS.one(".slider-arrow--left"),"dark"),JS.addClass(JS.one(".slider-arrow--right"),"dark"),JS.removeClass(JS.one(".header .logo"),"logo--light"),JS.removeClass(JS.one(".navigation-actions"),"navigation-actions--light")},250)):(JS.removeClass(this.detailstextwrapper,"details-text-wrapper--dark"),JS.removeClass(JS.one(".details-text-wrapper .button"),"button--dark"),setTimeout(function(){JS.removeClass(JS.one(".cta"),"cta--dark"),JS.removeClass(JS.one(".slider-arrow--left"),"dark"),JS.removeClass(JS.one(".slider-arrow--right"),"dark"),JS.addClass(JS.one(".header .logo"),"logo--light"),JS.addClass(JS.one(".navigation-actions"),"navigation-actions--light")},250))},selectScene:function(){var a=this.config.persona||this.getAllowedHash();if(a&&!this.config.persona){if(-1!=DetailsGallery.plist.indexOf(a))var b=DetailsGallery.plist.splice(DetailsGallery.plist.indexOf(a),1);else var b=new Array(a);DetailsGallery.plist.splice(0,0,b[0])}return JS.one(a&&JS.one(".scene."+a)&&!JS.hasClass(JS.one(".scene."+a),"loaded")?".scene."+a:".scene."+DetailsGallery.plist[this.config.index])},getAllowedHash:function(){for(var a=document.location.hash&&document.location.hash.toString().substring(1),b=null,c=0;c<this.scenes.length;c++)if(a===this.scenes[c].getAttribute("data-scene")){b=a;break}return this.popVideo="video"===a?!0:!1,b},setLoaded:function(a){JS.addClass(a,"loaded")},setDeviceAttrs:function(){JS.addClass(this.device,this.deviceType),this.device.setAttribute("data-image",this.deviceType),this.device.setAttribute("data-image-extension","png"),this.device.setAttribute("data-image-size",this.deviceSizes[this.deviceType].size),this.device.setAttribute("data-resolutions",this.deviceSizes[this.deviceType].res)},selectImg:function(a,b){var c,d=a.getAttribute("data-image-size").toString().split("x"),e=a.getAttribute("data-resolutions").toString().split(", "),f=[JS.getStyle(a,"width",!0),JS.getStyle(a,"height",!0)],g=d[0];(0==f[0]||isNaN(f[0])||0==f[1]||isNaN(f[1]))&&(f=[window.innerWidth,window.innerHeight]),null!==a.querySelector("img")?(c=JS.getStyle(a.querySelector("img"),"width",!0),c*=window.devicePixelRatio&&this.winWidth>1800?devicePixelRatio>1?devicePixelRatio-1:devicePixelRatio:window.devicePixelRatio||1):(c=f[0],JS.hasClass(a,"background")||(c*=window.devicePixelRatio||1));for(var h=0;h<e.length-1;h++)if(c<=e[h]){g=e[h];break}if(b){if("laptop"===this.deviceType)var i=parseInt(Math.floor(h/2));else var i=parseInt(Math.floor(h/2))-1>=0?parseInt(Math.floor(h/2))-1:0;return e[i]}return this.loadTimer.mbps&&(this.loadTimer.mbps<.5?g=e[h-2]||e[0]:this.loadTimer.mbps<1&&(g=e[h-1]||e[0])),g=Math.min(g,d[0])},buildImg:function(a,b,c){if(c)var d=this.selectImg(b,"lowres");else var d=this.selectImg(b);if(b.getAttribute("data-image-webp")&&"true"===b.getAttribute("data-image-webp").toString()&&DetailsGallery.iswebp)var e="webp";else var e=b.getAttribute("data-image-extension").toString();if(null!==a.getAttribute("src")&&-1!=a.getAttribute("src").indexOf(d+"."+e))return!1;if(JS.hasClass(b,"background"))var f="background";else if(JS.hasClass(b,"device"))var f=this.deviceType;a.setAttribute("src",this.imageBasePath+this.sceneName+"/"+f+"-"+d+"."+e+"?v="+this.imageVersion),"background"!==f||DetailsGallery.iswebp||(this.loadTimer.fileKB=this.personaInfo[this.sceneName].bgWeight[d],this.loadTimer.start=(new Date).getTime())},swapHighres:function(a,b,c){for(var d in a.children)if("object"==typeof a.children[d]&&a.children[d].isEqualNode(b)){var e=a.children[d];break}e&&(e.src=c.src)},loadTimer:function(){this.loadTimer.totalTime=this.loadTimer.stop-this.loadTimer.start,this.loadTimer.kBps=this.loadTimer.fileKB/(this.loadTimer.totalTime/1e3),this.loadTimer.mbps=this.loadTimer.kBps/1024*8},scaleDeviceImage:function(){switch(this.deviceType){case"laptop":this.scaleLaptop();break;default:this.scaleHandheld()}},scaleLaptop:function(){this.deviceImageEl.style.width=(1.94/(this.winWidth/this.winHeight)*100).toFixed(2)+"%"},scaleHandheld:function(){var a=this.winWidth/this.winHeight;this.deviceImageEl.style.height=a>=1.94?(114*a/1.94).toFixed(2)+"%":1.94>a&&a>=1?JS.percentagesOfPercentages([1,1.94],[100,114],a,"%",2):""},getSceneDeviceConfigs:function(){this.personaInfo={architects:{bgWeight:{640:24,1280:56,1680:82,1920:100},device:"laptop",tall:!1},artists:{bgWeight:{640:49,1280:109,1680:171,1920:217},device:"phone"},bloggers:{bgWeight:{640:29,1280:59,1680:98,1920:129},device:"tablet"},designers:{bgWeight:{640:28,1280:52,1680:75,1920:92},device:"tablet"},directors:{bgWeight:{640:9,1280:27,1680:46,1920:62},device:"laptop",tall:!0},inventors:{bgWeight:{640:34,1280:70,1680:99,1920:120},device:"phone"},musicians:{bgWeight:{640:29,1280:64,1680:86,1920:141},device:"tablet"},performers:{bgWeight:{640:44,1280:82,1680:136,1920:177},device:"phone"},photographers:{bgWeight:{640:17,1280:42,1680:84,1920:119},device:"laptop"},publications:{bgWeight:{640:23,1280:62,1680:91,1920:112},device:"tablet"},restaurants:{bgWeight:{640:38,1280:88,1680:136,1920:170},device:"tablet"},smallbusiness:{bgWeight:{640:36,1280:65,1680:98,1920:123},device:"laptop"},startups:{bgWeight:{640:32,1280:64,1680:93,1920:111},device:"tablet"},stores:{bgWeight:{640:26,1280:58,1680:86,1920:105},device:"tablet"},weddings:{bgWeight:{640:12,1280:31,1680:46,1920:56},device:"laptop",tall:!0},writers:{bgWeight:{640:7,1280:21,1680:50,1920:75},device:"laptop",tall:!0}},this.deviceSizes={phone:{res:"300, 500, 700, 900, 1100, 1300, 1500",size:"1500x1222"},tablet:{res:"200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400",size:"2400x1505"},laptop:{res:"500, 700, 900, 1100, 1300, 1500, 1700, 1900, 2100, 2300, 2500, 2700, 2900, 3100",size:"3100x973"}}},getRatioConfigs:function(){var a={text:{321:{3e4:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],1100:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],900:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],600:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],440:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--hide-tagline"]},480:{3e4:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],1100:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],900:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],600:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],480:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--hide-tagline"]},700:{3e4:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],1100:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],900:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],600:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],480:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--hide-tagline"]},900:{3e4:["details-text-wrapper--small","details-text-wrapper--stacked-button"],1100:["details-text-wrapper--small","details-text-wrapper--stacked-button"],900:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],600:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"]},1024:{3e4:["details-text-wrapper--medium"],1100:["details-text-wrapper--small","details-text-wrapper--stacked-button"],900:["details-text-wrapper--small"],600:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"]},1319:{3e4:["details-text-wrapper--large"],1100:["details-text-wrapper--medium"],900:["details-text-wrapper--small"],600:["details-text-wrapper--small"]},3e4:{3e4:["details-text-wrapper--extralarge"],1100:["details-text-wrapper--large"],900:["details-text-wrapper--medium"],700:["details-text-wrapper--small"]}}},b={"0.0":{text:["details-ratio-0_0","details-text-wrapper--top","details-text-wrapper--forty"],device:["device--bottom","device--sixty","device--stretched"],img:[""],background:["background--normal"],sizes:a},"0.60":{text:["details-ratio-0_60","details-text-wrapper--top","details-text-wrapper--fifty"],device:["device--bottom","device--fifty","device--stretched"],img:[""],background:["background--normal"],sizes:a},"2.0":{text:["details-ratio-2_0","details-text-wrapper--top","details-text-wrapper--forty"],device:["device--bottom","device--sixty","device--stretched"],img:[""],background:["background--normal"],sizes:a},2.33333:{text:["details-ratio-2_33333","details-text-wrapper--top","details-text-wrapper--forty"],device:["device--bottom","device--sixty","device--stretched"],img:[""],background:["background--normal"],sizes:a}};return b},windowResize:function(){return JS.hasClass(this.scene,"viz")?(clearTimeout(this.resizeEventInfo.tx),this.winWidth=document.documentElement.clientWidth,this.winHeight=document.documentElement.clientHeight,JS.addClass(JS.one("body"),"no-transition"),this.scaleDeviceImage(),this.resizeEventInfo.tx=setTimeout(function(){void 0!==this.resizeEventInfo.width&&this.winWidth>this.resizeEventInfo.width&&this.buildImg(JS.one(".viz .device > img"),this.device),this.resizeEventInfo.width=this.winWidth}.bind(this),100),void setTimeout(function(){JS.removeClass(JS.one("body"),"no-transition")},250)):!1},supportsWebP:function(){var a=new Image;JS.on(a,"load",function(){JS.addClass(JS.one("html"),"webp"),DetailsGallery.iswebp=!0,JS.fireCustom("webpsupportchecked")},this),JS.on(a,"error",function(){DetailsGallery.iswebp=!1,JS.fireCustom("webpsupportchecked")},this),a.src="//"+document.location.hostname+"/assets/details/test-pixel.webp"}};var DetailsCommercial=function(){function a(){var a=JS.one(".layout");JS.hasClass(a,"detailsCommercial--loading")||(JS.addClass(a,"detailsCommercial--loading"),e(),d())}function b(){l.detachEvents()}function c(){j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,f(),JS.one(".layout.details")&&(g.style.height=JS.getStyle(JS.one(".details"),"height")),640>=j?JS.addClass(JS.one(".detailsCommercial .button"),"button--mini"):JS.removeClass(JS.one(".detailsCommercial .button"),"button--mini")
}function d(){l.registerEvent(window,JS.resizeEvent,c),JS.onCustom("webfontsReady",function(){setTimeout(function(){JS.addClass(document.body,"webfonts--ready")},1e3)}),JS.onCustom("dependenciesLoaded",function(){JS.isAndroid()&&!JS.hasClass(JS.one("body"),"webfonts--ready")&&DepLoader.webfontsReady()}),l.registerEvent(JS.one(".detailsCommercial .close"),"click",function(){i.setAttribute("src",i.getAttribute("data-src")),JS.removeClass(JS.one(".header"),"transparent"),JS.removeClass(JS.one(".navigation-actions"),"transparent"),JS.removeClass(JS.one(".cta"),"transparent"),JS.one(".cta-text").innerHTML=JS.one(".cta-text").getAttribute("data-text"),JS.addClass(JS.one(".detailsCommercial"),"transparent");setTimeout(function(){JS.removeClass(JS.one("body"),"detailsCommercial-ready"),JS.addClass(JS.one(".detailsCommercial"),"hidden")},300)},this)}function e(){h=1,g=JS.one(".detailsCommercial"),i=JS.one(".video-player iframe"),j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,setTimeout(function(){this.setAttribute("src",this.getAttribute("data-src"))}.bind(i),10),DepLoader.init(),setTimeout(function(){f()},500),setTimeout(function(){JS.addClass(JS.one("body"),"detailsCommercial-ready")},1e3)}function f(){i.style.display="block";var a=9*JS.getStyle(i,"width",!0)/16;i.style.height=a+"px"}var g,h,i,j,k,l=new EventsHandler;return{init:a,destructor:b,renderUI:e}}(),Betterweb=function(){function a(){var a=JS.one(".layout");JS.hasClass(a,"betterweb--loading")||(JS.addClass(a,"betterweb--loading"),e(),d())}function b(){n.detachEvents()}function c(){l=document.documentElement.clientWidth,m=document.documentElement.clientHeight,g(),JS.one(".layout.details")&&(h.style.height=JS.getStyle(JS.one(".details"),"height")),640>=l?JS.addClass(JS.one(".betterweb .button"),"button--mini"):JS.removeClass(JS.one(".betterweb .button"),"button--mini")}function d(){n.registerEvent(window,JS.resizeEvent,c),JS.onCustom("webfontsReady",function(){setTimeout(function(){JS.addClass(document.body,"webfonts--ready")},1e3)}),JS.onCustom("dependenciesLoaded",function(){JS.isAndroid()&&!JS.hasClass(JS.one("body"),"webfonts--ready")&&DepLoader.webfontsReady()}),n.registerEvent(JS.one(".betterweb .close"),"click",function(){k.setAttribute("src",k.getAttribute("data-src")),JS.removeClass(JS.one(".header"),"transparent"),JS.removeClass(JS.one(".navigation-actions"),"transparent"),JS.removeClass(JS.one(".cta"),"transparent"),JS.addClass(JS.one(".betterweb"),"transparent");setTimeout(function(){JS.addClass(JS.one(".betterweb"),"hidden")},300)},this)}function e(){j=11,h=JS.one(".betterweb"),i=JS.one(".posterimage"),k=JS.one(".video-player iframe"),l=document.documentElement.clientWidth,m=document.documentElement.clientHeight;var a=new Image;JS.on(a,"load",function(){h.style.backgroundImage="url("+a.getAttribute("src")+")",g(),DepLoader.init(),JS.addClass(JS.one("body"),"betterweb-ready")},this),a.setAttribute("src",h.getAttribute("data-custom-src")+"-"+f(h)+"."+h.getAttribute("data-image-extension")+"?v="+j)}function f(a){var b,c=a.getAttribute("data-image-size").toString().split("x"),d=a.getAttribute("data-resolutions").toString().split("x"),e=[document.documentElement.clientWidth,document.documentElement.clientHeight],f=e[1],g=c[0];b=Math.floor(f/c[1]*c[0]);for(var h=0;h<d.length;h++)if(b<=d[h]){g=d[h];break}return window.devicePixelRatio&&(g*=window.devicePixelRatio),g=Math.min(g,c[0])}function g(){var a=9*JS.getStyle(k,"width",!0)/16;k.setAttribute("style","height: "+a+"px;")}var h,i,j,k,l,m,n=new EventsHandler;return{init:a,destructor:b}}();