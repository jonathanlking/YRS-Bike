YUI.add("squarespace-abtest",function(a){function d(d,t){function r(b){b=a.JSON.stringify({name:b.name,totalFrequencyUnits:b.totalFrequencyUnits,variations:b.variations});return a.Squarespace.MurmurHash.hash(b)}function x(a){for(var b={name:a.name,totalFrequencyUnits:a._total_units,variations:[],conversionGoal:a._conversion_goal},f=0;f<a._variations.length;f++){var e=a._variations[f];b.variations.push({name:e.name,frequency:e.units,item:null==e.item?null:e.item.toString()})}b.variations.sort(function(a,
b){return a.name<b.name?-1:a.name>b.name?1:0});b.hash=r(b);return b}function w(a){if(!a._finalized){if(2>a._variations.length)throw"Must have at least two variations defined.";a._variations.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0});var b=0,f=[],e=[];a._variations.forEach(function(a){a.units!=p?(b+=a.units,f.push(a)):e.push(a)});if(0<e.length){if(b>=a._total_units)throw"Total units for variations excluding the REMAINDER variations must be less than total units of "+a._total_units+
", instead of "+b;var l=a._total_units-b,g=Math.floor(l/e.length),c=l%e.length;if(1>g)throw"Remaining "+l+" units cannot be distributed among "+e.length+" variations.";for(l=0;l<e.length;l++){var h=e[l];h.units=l+1==e.length?g+c:g;b+=h.units;f.push(h)}}if(b!=a._total_units)throw"Total units for all variations must equal the specified total units of "+a._total_units+", instead of "+b;a._variations=f;if(null==a._conversion_goal)throw"Must define a conversionGoal for a test";a._description=x(a);a._finalized=
!0}}if(!b.test(d))throw"Test name must match regex "+b;if(void 0===t)t=100;else if(!("number"===typeof t&&Math.floor(t)===t)||2>t)throw"Units must be an integer > 2, not: "+t;this.name=d;this._variations=[];this._conversion_goal=null;this._total_units=t;this._selection_listeners=[];this._participation_filters=[];this._item_for_non_participant=null;this._finalized=!1;this.variation=function(a,b,f){var e;if(2==arguments.length)f=b,e=p;else if(e=parseInt(b,10),isNaN(e)||1>e)throw"Units must be a number > 0, not: "+
b;if(!c.test(a))throw"Variation name must match regex "+c;if(this._finalized)throw"Cannot add a variation to a test already finalized and used for selection";for(var l=0;l<this._variations.length;l++)if(a==this._variations[l].name)throw"Already have a test variation with name: "+a;this._variations.push({name:a,units:e,item:f});return this};this.conversionGoal=function(a,b){if(null!=this._conversion_goal)throw"Already defined a conversion goal: "+this._conversion_goal;if(!g.test(a))throw"Conversion goal name must match regex "+
g;void 0===b&&(b=k);if(isNaN(b))throw"percent_change_target for a conversion goal must be number";if(1<b||-1>b)throw"percent_change_target is a fraction, e.g. 0.10 for 10%. Cannot exceed 1 or be less than -1.";this._conversion_goal={metric:a,targetPercentChange:b};return this};this.filter=function(a,b){this._participation_filters.push(a);1<arguments.length&&(this._item_for_non_participant=b);return this};this.filterOutParticipantsInOtherTests=function(a,b){return 1<arguments.length?this.filter(u(a),
b):this.filter(u(a))};this.requireParticipationInOtherTests=function(a,b){return 1<arguments.length?this.filter(s(a),b):this.filter(s(a))};this.itemForNonParticipant=function(a){this._item_for_non_participant=a;return this};this.addSelectionListener=function(a){this._selection_listeners.push(a);return this};this.removeSelectionListener=function(a){a=this._selection_listeners.indexOf(a);0<=a&&this._selection_listeners.splice(a,1);return this};this.pastParticipationKey=function(){w(this);return this.name+
":"+this._description.hash};this.select=function(){w(this);var b,g=a.Cookie.get(e);b=null==g?{}:a.QueryString.parse(g);var c=a.Cookie.get(h)||"",d=null,k=null,g=!0;if(void 0!==b[this.pastParticipationKey()])a:{for(var d=this._variations,p=b[this.pastParticipationKey()],u=0;u<d.length;u++)if(d[u].name==p){d=d[u];break a}d=null}if(null==d){d=!1;for(p=0;p<this._participation_filters.length;p++)if(!this._participation_filters[p](c,b)){d=!0;break}if(d)d={name:l,units:f,item:this._item_for_non_participant},
g=!1;else{for(var k=(Math.abs(a.Squarespace.MurmurHash.hash(c+this.name,m))&65535)%this._total_units,d=this._variations,p=null,v=u=0,s=0;s<d.length;s++){p=d[s];v=u+p.units;if(k>=u&&k<v)break;u=v}if(!p)throw"No variation found for bucket id: "+k;d=p;b[this.pastParticipationKey()]=d.name}}b={test:this,selected:d,bucket_id:k,user:c,participations:b};if(g)try{a.Cookie.set(e,a.QueryString.stringify(b.participations)),a.io("/api/events/ABTest",{data:{variation:b.selected.name,selectionCriteria:b.user,description:a.JSON.stringify(b.test._description)},
on:{}})}catch(t){console.log("ABTest selection recording error: "+t)}for(g=0;g<n.length;g++)try{n[g](b)}catch(r){console.log("Global selection listener error: "+r)}for(g=0;g<this._selection_listeners.length;g++)try{this._selection_listeners[g](b)}catch(x){console.log("Selection listener error: "+x)}return d.item};return this}a.namespace("Squarespace");var b=/^[a-zA-Z]\w{0,63}$/,c=/^[a-zA-Z0-9][\w ]{0,63}$/,g=/^[a-zA-Z0-9].{0,250}$/,h="SS_MID",e="SS_ABPP",m=42,k=0.1,n=[],p=-1,f=0,l="__non_participant__",
u=function(b){if(!a.Array.test(b)||!b.length)throw"Must provide a non-empty array of test names";var f=a.Array(b);return function(b,e){return!a.Object.some(e,function(b,e){var g=e.indexOf(":");if(0>g)return!1;var l=e.substring(0,g);return a.Array.some(f,function(a){return l==a})?!0:!1})}},s=function(b){if(!a.Array.test(b)||!b.length)throw"Must provide a non-empty array of test names";var f={};a.Array.each(b,function(a){f[a]=!1});return function(b,e){a.Object.each(e,function(b,e){var g=e.indexOf(":");
if(0>g)return!1;g=e.substring(0,g);a.Object.hasKey(f,g)&&(f[g]=!0)});return!a.Object.some(f,function(a,b){return!a})}};a.Squarespace.ABTest={newTest:function(a,b){return new d(a,b)},addSelectionListener:function(a){n.push(a)},removeSelectionListener:function(a){a=n.indexOf(a);0<=a&&n.splice(a,1)}}},"1.0",{requires:"io-base cookie json querystring-stringify-simple querystring-parse-simple squarespace-murmurhash".split(" ")});
YUI.add("squarespace-dialog-password",function(a){a.namespace("Squarespace.DialogFields");var d=a.Squarespace.DialogFields.Password=a.Base.create("Password",a.Squarespace.DialogFields.Text,[],{initializer:function(){this.publish("forgot-password",{emitFacade:!0})},renderUI:function(){d.superclass.renderUI.call(this);var b=this.get("contentBox");this.get("strengthMeterVisible")&&(this._strengthMeter=b.plug(a.Squarespace.Plugin.ProgressBar,{show:!0,append:!0})[a.Squarespace.Plugin.ProgressBar.NS]);
this._forgotNode=b.appendChild(this.getProperty("FORGOT_PASSWORD_TEMPLATE"))},bindUI:function(){d.superclass.bindUI.call(this);this._forgotNode.on("click",function(a){a.halt();this.fire("forgot-password")},this);this.get("strengthMeterVisible")&&this.after("dataChange",this._updateStrengthMeter,this)},syncUI:function(){d.superclass.syncUI.call(this);var b=this.get("boundingBox");b.toggleClass("has-title",a.Lang.isValue(this.get("strings.title")));b.toggleClass("forgot-visible",this.get("forgotVisible")&&
""===this.get("data").trim())},_updateStrengthMeter:function(){if(typeof zxcvbn===typeof Function){var a=zxcvbn(this.get("data")),a=100*((Math.log(a.crack_time)+7)/30);0>=a&&!this.get("data")?a=0:100<a?a=100:5>a&&this.get("data")&&(a=5);var c=this._strengthMeter._meterEl.one(".bar-inner");33>a?c.setStyle("background","hsl(5, 65%, 57%)"):33<=a&&67>a?c.setStyle("background","hsl(36, 80%, 57%)"):67<=a&&c.setStyle("background","hsl(145, 65%, 40%)");this._strengthMeter.set("progress",a)}}},{FORGOT_PASSWORD_TEMPLATE:'<a class="forgot">Forgot?</a>',
CSS_PREFIX:"sqs-dialog-password",ATTRS:{forgotVisible:{value:!1,validator:a.Lang.isBoolean},strengthMeterVisible:{value:!1,validator:a.Lang.isBoolean,writeOnce:"initOnly"},password:{value:!0,readOnly:!0}}})},"1.0",{requires:["base","squarespace-dialog-text","squarespace-plugin-progress-bar","thirdparty-password-strength-async"]});
YUI.add("squarespace-signup",function(a){a.namespace("Squarespace");var d=a.config.win.Static,b={fields:{}};b.fields.firstName={ctor:a.Squarespace.DialogFields.LabeledText,required:!0,config:{width:176,name:"firstName","strings.placeholder":"First Name",submitOnEnter:!1,required:!0}};b.fields.lastName={ctor:a.Squarespace.DialogFields.LabeledText,required:!0,config:{width:177,name:"lastName","strings.placeholder":"Last Name",submitOnEnter:!1,required:!0}};b.fields.email={ctor:a.Squarespace.DialogFields.LabeledText,
required:!0,config:{name:"email",title:"your@email.com","strings.placeholder":"your@email.com",style:"title",titleStyle:"inline",submitOnEnter:!1,mailcheck:!0}};b.fields.password={ctor:a.Squarespace.DialogFields.Password,name:"password",config:{required:!0,name:"password","strings.placeholder":"Password",submitOnEnter:!0,strengthMeterVisible:!0}};b.groups={};b.groups.name={type:"splitter",fields:[{$include:"fields.firstName"},{$include:"fields.lastName"}]};b.groups.creditCardDetails=[{ctor:a.Squarespace.DialogFields.Description,
config:{className:"big-register-domain-title",text:"{creditCardTitle}"}},{ctor:a.Squarespace.DialogFields.Description,config:{text:"{creditCardDescription}"}},{type:"text",required:!0,name:"nameOnCard",title:"Name on Card",style:"title",titleStyle:"inline",submitOnEnter:!0},{ctor:a.Squarespace.DialogFields.LabeledText,required:!0,config:{name:"ccNumber",autocompleteType:a.Squarespace.Constants.AutocompleteTypes.CC_NUMBER,"strings.placeholder":"Card Number"}},{type:"splitter",fields:[{ctor:a.Squarespace.DialogFields.LabeledText,
required:!0,config:{name:"cvv",width:140,autocompleteType:a.Squarespace.Constants.AutocompleteTypes.CC_CSC,"strings.placeholder":"CVV"}},{ctor:a.Squarespace.DialogFields.LabeledSelect,required:!0,config:{name:"expirationMonth",options:{$valueFn:function(){var a=[];a.push({label:"Month",value:""});for(var b=1;12>=b;b++)a.push({label:b,value:b});return a}},width:100,autocompleteType:a.Squarespace.Constants.AutocompleteTypes.CC_EXP_MONTH,"strings.placeholder":"Month"}},{ctor:a.Squarespace.DialogFields.LabeledSelect,
required:!0,config:{name:"expirationYear",options:{$valueFn:function(){var a=[];a.push({label:"Year",value:""});for(var b=(new Date).getFullYear(),e=b;e<b+20;e++)a.push({label:e,value:e});return a}},width:100,autocompleteType:a.Squarespace.Constants.AutocompleteTypes.CC_EXP_YEAR,"strings.placeholder":"Year"}}]}];a.Squarespace.Signup=Singleton.create({ready:function(){this.chromeEl=null;this.params={type:"Website",cloneIdentifier:d.SQUARESPACE_CONTEXT.website?a.Object.getValue(d,["SQUARESPACE_CONTEXT",
"website","identifier"]):null,page:"preview"};this._googleDomainsInit();var b=this._getSourceIdentifier();b?(a.Cookie.set("sourceDomain",b),a.on("domready",function(){this._loadSiteCloner=a.Promise(a.bind(function(c,e){var d=a.one("body"),k=d.one(".signup-iframe");k||(k=d.append('<div class="signup-iframe"></div>'));d=a.Squarespace.SignupRPC.createConsumer("https://"+this._domainForIdentifier(b),k._node);c(d)},this));this._getMember=a.Promise(a.bind(function(a,b){this._loadSiteCloner&&this._loadSiteCloner.then(function(g){g.getMember(a,
b)})},this));this._getMember.then(function(){console.log("Member account loaded")},function(){console.log("Member failed to load")})},this)):a.Cookie.remove("sourceDomain")},_getSourceIdentifier:function(){return a.QueryString.parse(window.location.search.substr(1)).sourceIdentifier||null},_googleDomainsInit:function(){var b=a.Squarespace.GoogleDomains.getGoogleDomainUrlParams();!a.Lang.isNull(b.userId)&&!a.Lang.isNull(b.domainName)&&a.Squarespace.SessionStorage.saveSessionData("googleDomain",b,(new Date).addDays(7))},
_authenticatedSignupFlow:function(b){this._getMember.then(a.bind(function(b){b=new a.Squarespace.Widgets.Confirmation({style:a.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_OR_REJECT,"strings.confirm":"Add to Current Account","strings.reject":"Create as New User","strings.cancel":"Cancel","strings.title":"Create New Website","strings.message":"You are currently logged in as <strong>"+a.Escape.html(b.displayName)+" ("+b.email+")</strong>. Please specify if you would like to create a site under this account, or as a new user."});
b.on("confirm",function(){this._loadSiteCloner.then(a.bind(function(b){b.signup(a.Squarespace.Signup.params.cloneIdentifier,a.bind(this._redirect,this),a.bind(this._clearCookieAndRestartSignup,this))},this))},this);b.on("reject",this._clearCookieAndRestartSignup,this)},this))},_domainForIdentifier:function(a){return a+"."+d.SQUARESPACE_CONTEXT.appDomain},_clearCookieAndRestartSignup:function(){a.Cookie.remove("sourceDomain");this.show({})},_doShortcutSignup:function(b,c){var e="https://"+this._domainForIdentifier(b);
a.Squarespace.SignupRPC.createConsumer(e,c._node).signup(this.params.cloneIdentifier,a.bind(this._redirect,this),a.bind(this._clearCookieAndRestartSignup,this))},_googleConsentAccept:function(b){a.Squarespace.Analytics.trackInternal("marketplace_signup_google_started");a.Squarespace.Analytics.trackInternal("domain_link_google_domain_start");a.Data.post({url:"/api/auth/GoogleAuthSignup",data:{googleAuthRequestId:b.requestId,cloneIdentifier:a.Squarespace.Signup.params.cloneIdentifier},success:function(b){this._stopSpinner();
a.Squarespace.Analytics.trackInternal("marketplace_signup_google_succeed");a.Squarespace.SessionStorage.removeSessionData("googleDomain");if(a.Lang.isString(b.domainError))(new a.Squarespace.Widgets.Alert({"strings.title":"Failed to add your domain","strings.message":b.domainError,"strings.confirm":"Go to my new website"})).on("confirm",a.bind(this._redirect,this,b));else this._redirect(b)},failure:function(b){this._stopSpinner();new a.Squarespace.Widgets.Alert({"strings.title":"Create Website Failed",
"strings.message":b.message});a.Squarespace.Analytics.trackInternal("marketplace_signup_google_failed",{reason:b.message})}},this)},_googleConsentReject:function(b){this._stopSpinner();new a.Squarespace.Widgets.Alert({"strings.title":"Create Website Failed","strings.message":"Need to accept terms to proceed."});a.Squarespace.Analytics.trackInternal("marketplace_signup_google_failed",{reason:"Need to accept terms to proceed."})},show:function(b){b&&(this.params=a.merge(this.params,b));var c=a.Cookie.get("sourceDomain");
a.Lang.isNull(c)?a.Squarespace.GoogleDomains.isGoogleDomainFlow()?this._showGoogleSignupConfirmation(b):this._showSignupDialog(b):this._authenticatedSignupFlow(c)},_showGoogleSignupConfirmation:function(b){var c=new a.Squarespace.Lightbox({disableNormalClose:!1,clickAnywhereToExit:!0,content:'<div class="google-confirmation"><div class="title">Create Your Squarespace Account</div><div class="description">Squarespace can automatically set up your new domain from Google, or you can continue without linking to your new domain</div><div class="button-wrapper"><input type="button" class="no" value="Don\'t Connect my Domain"/><input type="button" class="yes" value="Log in to Google & Connect My Domain"/></div></div>',
margin:100,noHeightConstrain:!0,overlayStyle:"plain",opacity:0.9});c.show();c.getContentEl().delegate("click",function(e){e.halt();var c=a.Squarespace.SessionStorage.getSessionData("googleDomain");a.Lang.isValue(e.target.ancestor(".no",!0))?(this._showSignupDialog(b),a.Squarespace.Analytics.trackInternal("domain_link_google_account_signup_overlay_click",{selection:"member_account"})):(this._startSpinner(!0),a.Squarespace.Analytics.trackInternal("marketplace_signup_google_start",{domain:c.domainName}),
a.Squarespace.GoogleDomainsConsentService.getConsentForNewSite(c.domainName,c.userId).then(a.bind(this._googleConsentAccept,this),a.bind(this._googleConsentReject,this)),a.Squarespace.Analytics.trackInternal("domain_link_google_account_signup_overlay_click",{selection:"google"}))},"input",this);a.Squarespace.Analytics.trackInternal("domain_link_google_account_signup_overlay")},_showSignupDialog:function(c){a.one("html").addClass("squarespace-cameron");if(!this.signupDialog){var d=a.merge({cancelText:"Cancel",
saveAndCloseText:"Finish & Create Site",title:"Create Your "+this.params.type,description:"<strong>Create an account.</strong>  Enter your email and password which you'll use when logging into your Squarespace website.",creditCardTitle:"Payment Details",creditCardDescription:"<strong>Domains are $20/year.</strong> No pricing changes after the first year, no surprises. Enter your credit card details below. You will be charged <strong>$20 annually</strong> until you cancel your domain registration."},
c.strings),e={loadingText:"Loading...",savingText:"Verifying...",closingText:"Success!...",name:"squarespace-signup",discardChangesConfirmation:!1,disableOverlayCancel:!0,style:"transparent",overlay:1,width:425,top:120,zIndex:2E5,closeOthers:!1,buttons:[{type:"cancel",title:"{cancelText}"},{type:"saveAndClose",title:"{saveAndCloseText}"}],tabs:[{title:"Squarespace Signup",icon:"/universal/images-v6/dialog/login-icon.png?4",fields:[{ctor:a.Squarespace.DialogFields.Description,config:{className:"big-signup-title",
text:"{title}"}},{ctor:a.Squarespace.DialogFields.Description,config:{text:"{description}",padding:[10,0]}},{$include:"groups.name"},{$include:"fields.email"},{$include:"fields.password"},{ctor:a.Squarespace.DialogFields.Description,config:{className:"big-signup-footer",text:'By clicking below to sign up, you are agreeing to the Squarespace <a target="new" href="http://www.squarespace.com/terms">Terms of Service.</a>'}},{type:"hidden",name:"SK1"}]}]};c.domain&&e.tabs[0].fields.splice(e.tabs[0].fields.length-
2,0,{$include:"groups.creditCardDetails",$concat:!0});var m={name:"squarespace-signup",style:"transparent",overlay:1,width:375,top:180,height:150,zIndex:2E5,buttons:[{type:"cancel",title:"Cancel"}],tabs:[{title:"Squarespace Signup",icon:"/universal/images-v6/dialog/login-icon.png?4",fields:[{ctor:a.Squarespace.DialogFields.Description,config:{className:"big-signup-title",text:"Create Your "+this.params.type}},{ctor:a.Squarespace.DialogFields.Description,config:{text:"You are not using a supported web browser. Squarespace's management interface and site creation currently supports the latest versions of Firefox, Safari and Google Chrome. Please update your browser to continue.",
padding:[10,0]}}]}]};a.Squarespace.Utils.advancedBrowserCheck()?this.signupDialog=new a.Squarespace.EditingDialog(a.Squarespace.ObjectBuilder.make(e,b,d)):this.signupDialog=new a.Squarespace.EditingDialog(m);this.signupDialog.on("loading",function(){a.all(".map-widget").each(function(a){a.setStyle("visibility","hidden")});a.Data.post({url:"/api/auth/SignupKey",secure:!0,success:function(a){this.signupDialog.getField("SK1").setValue(a.key)}},this)},this);this.signupDialog.on("cancel",function(){a.all(".map-widget").each(function(a){a.setStyle("visibility",
"visible")})},this);var k=this.signupDialog;this.signupDialog.on("datachange",function(b){this.getData().remember||a.Cookie.remove("email");c.domain&&0<=["firstName","lastName"].indexOf(b.getName())&&(b=k.getField("firstName").getValue()+" "+k.getField("lastName").getValue(),k.getField("nameOnCard").setValue(b.trim()));this.hideErrors()});this.signupDialog.on("show-errors",function(b){for(var e in b){a.Squarespace.Analytics.trackInternal("marketplace_signup_rejected",{field:e,reason:b[e],identifier:a.Squarespace.Signup.params.cloneIdentifier});
break}},this);this.signupDialog.on("send-requested",this._signup,this)}this.signupDialog.setInitialData({inviteCode:a.Cookie.get("invitationId")});this.signupDialog.show();a.one("body").setStyle("overflowY","visible");a.one(".dialog-squarespace-signup").setStyle("position","absolute");window.scrollTo(0,0);a.Squarespace.Analytics.trackInternal("marketplace_signup_view",{identifier:a.Squarespace.Signup.params.cloneIdentifier})},_signup:function(){a.Squarespace.Analytics.trackInternal("marketplace_signup_attempt",
{identifier:a.Squarespace.Signup.params.cloneIdentifier});var b={cloneIdentifier:a.Squarespace.Signup.params.cloneIdentifier,page:a.Squarespace.Signup.params.page,category:a.Squarespace.Signup.params.type,developer:a.Squarespace.Signup.params.developer,domain:a.Squarespace.Signup.params.domain},c=a.Squarespace.Signup.params.additionalTemplatesToInstall;a.Lang.isValue(c)&&(b.additionalTemplatesToInstall=c);a.Squarespace.TweakManager&&a.Squarespace.TweakManager.dialog&&(b.tweakSettings=a.Squarespace.TweakManager._getTweakSettings());
a.Data.sendForm(this.signupDialog,{url:"/api/auth/SignupValidate",secure:!0,data:b,success:function(){this._createAccount(b)},failure:function(b){a.Lang.isValue(b.errors)?this.signupDialog.showErrors(b.errors):new a.Squarespace.Widgets.Alert({"strings.title":"Unable to create a new website","strings.message":b.error})}},this)},_createAccount:function(b){this._gearTimerHandle=a.later(500,this,function(){this._startSpinner();this._scaleDialog(this.signupDialog,"out")},this);a.Squarespace.Utils.isProductionEnvironment()?
this._queuedSignup(b):this._directSignup(b)},_directSignup:function(b){a.Data.sendForm(this.signupDialog,{url:this.params.domain?"/api/auth/DomainSignup":"/api/auth/Signup",secure:!0,data:b,success:function(a){this._stopSpinner();this._redirect(a)},failure:function(b){this._scaleDialog(this.signupDialog,"in");this._stopSpinner();a.Lang.isValue(b.errors)?this.signupDialog.showErrors(b.errors):new a.Squarespace.Widgets.Alert({"strings.title":"Unable to create a new website","strings.message":b.error})}},
this)},_queuedSignup:function(b){a.Data.sendForm(this.signupDialog,{url:this.params.domain?"/api/auth/QueueDomainSignup":"/api/auth/QueueSignup",secure:!0,data:b,success:function(b){a.later(1E3,this,this._isSignupComplete,{job:b,startTime:(new Date).getTime()})},failure:this._signupFailure},this)},_isSignupComplete:function(b){a.Data.get({url:"/api/jobs/signup/"+b.job.id,success:function(c){var e=a.Squarespace.JobStatuses;switch(c.status){case e.FAILURE:c=c.messages;a.Lang.isArray(c)&&0<c.length?
this._signupFailure({error:c[0]}):this._signupFailure({error:"Unable to create a new website"});break;case e.SUCCESS:this.fire("signupComplete");this._stopSpinner();this._signupJobComplete(c);break;default:8E3<(new Date).getTime()-b.startTime?(this.fire("signupComplete"),this._signupTimedOut()):a.later(1E3,this,this._isSignupComplete,b)}},failure:this._signupFailure},this)},_signupTimedOut:function(){this._stopSpinner();var b=new a.Squarespace.Lightbox({content:'<div class="squarespace-signup-timeout-text"><div class="timeout-title">CHECK YOUR INBOX</div><div class="timeout-body">We\'re still working on your site, we\'ll email you when it\'s ready.</div><div class="button-wrapper"><input type="button" class="close" value="CLOSE"/></div></div>',
contentOnly:!0,zIndex:200100,transition:"scale",margin:0,clickAnywhereToExit:!1,disableNormalClose:!1,name:"signup-timout"});b.show();b.contentEl.one(".close").on("click",function(){b.hide();this.signupDialog.destroy(!0)},this);a.Squarespace.Analytics.trackInternal("marketplace_signup_defered",{identifier:a.Squarespace.Signup.params.cloneIdentifier})},_signupFailure:function(b){this._scaleDialog(this.signupDialog,"in");this._stopSpinner();this.signupDialog.allowEditing();a.Lang.isValue(b.errors)?
this.signupDialog.showErrors(b.errors):new a.Squarespace.Widgets.Alert({"strings.title":"Unable to create a new website","strings.message":b.error.message?b.error.message:b.error})},_signupJobComplete:function(a){this._redirect({website:a.data.createdWebsiteIdentifier,loginToken:a.data.loginToken})},_redirect:function(b){if(!a.Lang.isUndefined(window.orientation)||-1!==navigator.userAgent.toLowerCase().indexOf("mobile"))(new a.Squarespace.Widgets.MobileSignupConfirmation({render:a.one("body")})).get("boundingBox").on("click",
function(a){"A"!==a.target.get("tagName")&&a.halt()});else top.location.href="http://"+(b.website+"."+d.SQUARESPACE_CONTEXT.appDomain)+"/config/?loginToken="+b.loginToken;a.Squarespace.Signup.params.lifeCycleTrialEventFn&&a.Squarespace.Signup.params.lifeCycleTrialEventFn(b)},_startSpinner:function(b){a.Lang.isUndefined(b)&&(b=!1);this.LB=new a.Squarespace.Lightbox({content:'<div class="squarespace-signup-spinner">&nbsp;</div><div class="squarespace-signup-text">Please wait a moment while your Squarespace site is created...</div>',
contentOnly:!b,zIndex:200100,transition:"scale",margin:0,clickAnywhereToExit:!1,name:"signup-spinner"});this.LB.show()},_stopSpinner:function(){this.LB?this.LB.hide():this._gearTimerHandle.cancel()},_scaleDialog:function(b,c){a.Squarespace.Transitions.getTransition({el:b.el,name:"scale",direction:c,duration:0.3}).run()},showSignupDialog:function(b){this.topOrigin?top.postMessage({installTemplate:a.Squarespace.Signup.params.cloneIdentifier},this.topOrigin):this.show({lifeCycleTrialEventData:{trial_start_origin:"template-direct"}})},
updateSignupChrome:function(){d.SQUARESPACE_CONTEXT.website.cloneable&&!a.UA.mobile&&(!window.SQUARESPACE_LOGIN||!window.SQUARESPACE_LOGIN.isLoggedIn())&&!this.chromeEl?(a.Squarespace.Analytics.trackInternal("marketplace_site_view",{identifier:a.Object.getValue(d,["SQUARESPACE_CONTEXT","website","identifier"])}),new c({render:!0})):window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&this.chromeEl&&(this.chromeEl.remove(),this.chromeEl=null)}});a.augment(a.Squarespace.Signup,a.EventTarget);
var c=a.Base.create("SignupPill",a.Squarespace.SSWidget,[],{renderUI:function(){this.get("boundingBox").setAttribute("id","sqs-signup-pill");var a=this.get("contentBox").appendChild('<div class="'+this.getClassName("body")+'"></div>');a.append('<div class="'+this.getClassName("body-title")+'">Create a Site Like This</div>');a.append('<div class="'+this.getClassName("body-description")+'">Free trial. Instant access.</div>')},bindUI:function(){this.get("contentBox").on("click",function(b){b.halt();
a.Squarespace.Signup.showSignupDialog()},this)}},{CSS_PREFIX:"sqs-signup-pill",ATTRS:{contextCollection:{},management:{}}});a.config.win.Squarespace.onInitialize(a,function(){if(a.QueryString&&a.QueryString.parse&&a.QueryString.parse(document.location.search.substring(1)).nochrome)return!0;d.SQUARESPACE_CONTEXT.website.cloneable&&a.Squarespace.Marketing.trackLanding();a.Squarespace.Signup.updateSignupChrome()})},"1.0",{requires:"router autocomplete autocomplete-sources autocomplete-filters autocomplete-list squarespace-ui-lang squarespace-abtest event-custom node squarespace-signup-rpc squarespace-template-install promise squarespace-dialog squarespace-dialog-hidden squarespace-dialog-description squarespace-dialog-password squarespace-object-builder squarespace-dialog-text squarespace-dialog-select squarespace-mobile-signup-confirmation squarespace-google-domains-utils squarespace-google-domains-consent-service squarespace-widgets-confirmation squarespace-widgets-alert squarespace-session-storage".split(" ")});
YUI.add("squarespace-template-install",function(a){a.namespace("Squarespace").TemplateInstallRPC={createProvider:function(d){var b=new easyXDM.Rpc({},{local:{configure:d.configureFn},remote:{onLoad:{},installTemplate:{}}});a.Squarespace.Signup.show=function(){b.installTemplate.apply(b,arguments)};b.onLoad();return b},createConsumer:function(a){return new easyXDM.Rpc({remote:"https://www."+Static.SQUARESPACE_CONTEXT.appDomain+"/templates/?mode=template-install&nochrome=true&t="+(new Date).getTime(),
container:a.container},{local:{onLoad:a.onLoad,installTemplate:a.installTemplate},remote:{configure:{}}})}}},"1.0",{requires:["thirdparty-easyxdm"]});
YUI.add("squarespace-models-google-domain",function(a){var d=a.namespace("Squarespace.Models");d.GoogleDomain=a.Base.create("googleDomain",d.Domain,[],{root:a.Squarespace.REST_API_ROOT+"domains/google",isNew:function(){return a.Lang.isValue(this.get("googleAuthRequestId"))}},{ATTRS:{googleAuthRequestId:{validator:a.Squarespace.AttrValidators.isString}}})},"1.0",{requires:["base","squarespace-models-domain"]});
YUI.add("squarespace-autocomplete-types",function(a){a.namespace("Squarespace.Constants").AutocompleteTypes={GIVEN_NAME:"given-name",FAMILY_NAME:"family-name",CITY:"city",STATE:"state",POSTAL_CODE:"postal-code",COUNTRY_NAME:"country-name",CC_FULL_NAME:"cc-full-name",CC_NUMBER:"cc-number",CC_EXP_MOTNH:"cc-exp-month",CC_EXP_YEAR:"cc-exp-year",CC_CSC:"cc-csc"};a.Squarespace.AutocompleteTypeATTR={value:null,writeOnce:"initOnly",validator:function(d){if(a.Lang.isNull(d)||a.Object.hasValue(a.Squarespace.Constants.AutocompleteTypes,
d))return!0;console.warn(this.name+": That constant is not an available autocomplete type.");return!1}}},"1.0");
YUI.add("squarespace-mobile-signup-confirmation",function(a){a.namespace("Squarespace.Widgets").MobileSignupConfirmation=a.Base.create("mobileSignupConfirmation",a.Widget,[a.WidgetPosition,a.WidgetPositionAlign],{renderUI:function(){this.get("contentBox").append('<header>Thank You!</header><section>Your website has been created and your login instructions have been sent to your email. Because Squarespace has been designed to be set up on a desktop, please access your site when on a non-mobile device to begin designing your site.</section><footer><a href="http://www.squarespace.com" class="return-button">Return to Squarespace.com</a></footer>')}},{ATTRS:{centered:{value:!0}},
CSS_PREFIX:"sqs-mobile-signup-confirmation"})},"1.0",{requires:["widget","widget-position","widget-position-align","base-build"]});
YUI.add("squarespace-google-domains-consent-service",function(a){a.namespace("Squarespace");a.Squarespace.GoogleDomainsConsentService=new (a.Base.create("domainConsentService",a.Base,[],{initializer:function(){this._openWindows={};this._messageCallbacks={};this._messageEventHandler=window.addEventListener("message",a.bind(this._routeMessage,this))},destructor:function(){window.removeEventListener("message",this._messageEventHandler);this._endMonitor()},getConsent:function(d,b,c){return a.Squarespace.Promises.create(function(a,
h){this._messageCallbacks[d]=function(b){b.consentGranted?a({requestId:b.requestId}):h()};this._openConsentWindow(d,b,c)},this)},getConsentForNewSite:function(d,b){return a.Squarespace.Promises.create(function(a,g){this._messageCallbacks[d]=function(b){b.consentGranted?a({requestId:b.requestId}):g()};this._openSignupConsentWindow(d,b)},this)},getDomainOnlyConsent:function(d,b,c){return a.Squarespace.Promises.create(function(a,h){this._messageCallbacks[d]=function(b){b.consentGranted?a({requestId:b.requestId}):
h()};this._openDomainConsentOnlyWindow(d,b,c)},this)},getConsentForList:function(){return a.Squarespace.Promises.create(function(d,b){var c=a.guid();this._messageCallbacks[c]=function(a){a.consentGranted?d({requestId:a.requestId}):b()};this._openListConsentWindow(c)},this)},_routeMessage:function(d){var b=d.data.domain;if(a.Lang.isString(b)){var c=this._messageCallbacks[b];a.Lang.isFunction(c)&&(c.call(this,d.data),delete this._messageCallbacks[b])}},_registerOpenWindow:function(d,b){0>=a.Object.size(this._openWindows)&&
this._beginMonitor();this._openWindows[d]=b},_unregisterOpenWindow:function(d){delete this._openWindows[d];0>=a.Object.size(this._openWindows)&&this._endMonitor()},_endMonitor:function(){this._monitor&&this._monitor.cancel()},_beginMonitor:function(){this._monitor=a.later(300,this,function(){var d=[];a.Object.each(this._openWindows,function(a,c){a.closed&&(this._routeMessage({data:{domain:c,consentGranted:!1}}),d.push(c))},this);a.Array.each(d,this._unregisterOpenWindow,this)},null,!0)},_openListConsentWindow:function(d){var b=
a.Lang.sub("https://oauth.{appDomain}/auth/google-web-hosting/list-domains-consent-initialize?requestIdentifier={identifier}",{identifier:d,appDomain:Static.SQUARESPACE_CONTEXT.appDomain});this._openConsentPopup(b,d)},_openDomainConsentOnlyWindow:function(d,b,c){b=a.Lang.sub("https://oauth.{appDomain}/auth/google-web-hosting/domain-consent-initialize?domain={domain}&requestId={requestId}",{requestId:b,domain:d,websiteId:c,appDomain:Static.SQUARESPACE_CONTEXT.appDomain});this._openConsentPopup(b,d)},
_openConsentWindow:function(d,b,c){b=a.Lang.sub("https://oauth.{appDomain}/auth/google-web-hosting/consent-initialize?domain={domain}&websiteId={websiteId}&userId={userId}",{domain:d,appDomain:Static.SQUARESPACE_CONTEXT.appDomain,websiteId:c||"",userId:b});this._openConsentPopup(b,d)},_openSignupConsentWindow:function(d,b){var c=a.Lang.sub("https://oauth.{appDomain}/auth/google-web-hosting/signup-consent-initialize?domain={domain}&userId={userId}",{domain:d,userId:b,appDomain:Static.SQUARESPACE_CONTEXT.appDomain});
this._openConsentPopup(c,d)},_openConsentPopup:function(a,b){var c=window.open(a,"Google Domains Consent","status=0,width=1020,height=520");this._registerOpenWindow(b,c)}}))},"1.0",{requires:["base","promise","squarespace-promises"]});
YUI.add("squarespace-google-domains-utils",function(a){a.namespace("Squarespace.GoogleDomains");var d=function(b){a.Lang.isString(b)||(b="");(new a.Squarespace.Lightbox({disableNormalClose:!0,clickAnywhereToExit:!1,content:'<div class="bigtext"><div class="title">Failed to add domain</div><div class="description">'+b+'</div><div class="buttons"></div></div>',margin:100,noHeightConstrain:!0})).show()};a.Squarespace.GoogleDomains.getGoogleDomainUrlParams=function(){var b=window.location.search;return{userId:a.QueryString.parse(b.substr(1)).userId||
null,domainName:a.QueryString.parse(b.substr(1)).domainName||null}};a.Squarespace.GoogleDomains.isGoogleDomainFlow=function(){var b=a.Squarespace.SessionStorage.getSessionData("googleDomain");if(a.Lang.isObject(b))return!0;b=a.Squarespace.GoogleDomains.getGoogleDomainUrlParams();return!a.Lang.isNull(b.userId)&&!a.Lang.isNull(b.domainName)?!0:!1};a.Squarespace.GoogleDomains.showConfirmMessage=function(b,c){var d=a.Squarespace.GoogleDomains.getGoogleDomainUrlParams(),h=d.domainName,e=d.userId,d="http://"+
window.location.hostname,m=new a.Squarespace.Lightbox({disableNormalClose:!0,clickAnywhereToExit:!1,content:'<div class="bigtext"><div class="title">Link Domain: '+encodeURI(h)+'</div><div class="description">Your site <strong>'+d+"</strong> will be available at <strong>http://www."+h+'</strong>.</div><div class="buttons"><input type="button" class="login-button" name="login" value="Link Domain"/></div></div>',noHeightConstrain:!0});m.show();m.getContentEl().on("click",function(){m.hide();c(b,e,h)})};
a.Squarespace.GoogleDomains.startConsentFlow=function(b,c,g){var h=new a.Squarespace.Spinner({color:"light",size:"large",render:a.one(".spinner-wrapper")});h.spin();a.Squarespace.Analytics.trackInternal("domain_link_google_domain_start");return a.Squarespace.GoogleDomainsConsentService.getConsent(g,c,b).then(function(b){(new a.Squarespace.Models.GoogleDomain({googleAuthRequestId:b.requestId})).save({},function(b){h.stop();a.Lang.isValue(b)?d(b.responseJSON.message):window.location="/config#module=settings&settings-subpanelName=domain-settings"})},
function(b){a.Squarespace.Analytics.trackInternal("domain_link_domain_failure",{host:"google"});h.stop();d(b)})}},"1.0",{requires:["querystring","squarespace-google-domains-consent-service","squarespace-models-google-domain","squarespace-session-storage"]});
YUI.add("squarespace-plugin-progress-bar",function(a){a.namespace("Squarespace.Plugin");var d=a.Squarespace.Plugin.ProgressBar=a.Base.create("ProgressBar",a.Squarespace.Plugin.ProgressBase,[],{_renderContent:function(){d.superclass._renderContent.call(this);this._syncProgressBar()},_bindAttributeChanges:function(){d.superclass._bindAttributeChanges.call(this);this.after("progressChange",this._syncProgressBar,this)},_syncProgressBar:function(){var a=this._meterEl.one(".bar-inner"),c=this.get("progress"),
c=Math.max(0,Math.min(100,0+c));a.setStyle("width",c+"%")}},{NS:"progress-bar",PROGRESS_METER_TEMPLATE:'<div class="bar"><div class="bar-inner"></div></div>',ATTRS:{progress:{value:0,validator:function(b,c){return a.Lang.isNumber(b)&&0<=b&&100>=b}}}})},"1.0",{requires:["base","squarespace-plugin-progress-base"]});
YUI.add("squarespace-dialog-hidden",function(a){var d=function(){};a.namespace("Squarespace.DialogFields").Hidden=a.Base.create("hidden",a.Squarespace.DialogField2,[],{initializer:function(){this.unplug(a.Plugin.WidgetAnim)},focus:null,enable:null,disable:null,blur:null,renderUI:d,bindUI:d,syncUI:d},{CSS_PREFIX:"sqs-hidden",ATTRS:{visible:{value:!1},focusable:{value:!1}}});a.Squarespace.DialogFields.HiddenField=a.Squarespace.DialogFields.Hidden},"1.0",{requires:["base","base-build","squarespace-dialog-field-2"]});
YUI.add("text-data-wordbreak",function(a,d){a.namespace("Text.Data").WordBreak={aletter:"[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f3\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u303b\u303c\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790\ua791\ua7a0-\ua7a9\ua7fa-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]",
midnumlet:"['\\.\u2018\u2019\u2024\ufe52\uff07\uff0e]",midletter:"[:\u00b7\u00b7\u05f4\u2027\ufe13\ufe55\uff1a]",midnum:"[,;;\u0589\u060c\u060d\u066c\u07f8\u2044\ufe10\ufe14\ufe50\ufe54\uff0c\uff1b]",numeric:"[0-9\u0660-\u0669\u066b\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9]",
cr:"\\r",lf:"\\n",newline:"[\x0B\f\u0085\u2028\u2029]",extend:"[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1baa\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]",
format:"[\u00ad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200e\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]",katakana:"[\u3031-\u3035\u309b\u309c\u30a0-\u30fa\u30fc-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff9d]",extendnumlet:"[_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}\u00a1\u00ab\u00b7\u00bb\u00bf;\u00b7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]"}},
"3.17.2",{requires:["yui-base"]});
YUI.add("text-wordbreak",function(a,d){var b=a.Text,c=b.Data.WordBreak,g=[RegExp(c.aletter),RegExp(c.midnumlet),RegExp(c.midletter),RegExp(c.midnum),RegExp(c.numeric),RegExp(c.cr),RegExp(c.lf),RegExp(c.newline),RegExp(c.extend),RegExp(c.format),RegExp(c.katakana),RegExp(c.extendnumlet)],h=RegExp("^"+c.punctuation+"$"),e=/\s/,m={getWords:function(a,b){var c=0,f=m._classify(a),l=f.length,d=[],g=[],v,t,r;b||(b={});b.ignoreCase&&(a=a.toLowerCase());t=b.includePunctuation;for(r=b.includeWhitespace;c<l;++c)v=
a.charAt(c),d.push(v),m._isWordBoundary(f,c)&&((d=d.join(""))&&((r||!e.test(d))&&(t||!h.test(d)))&&g.push(d),d=[]);return g},getUniqueWords:function(b,c){return a.Array.unique(m.getWords(b,c))},isWordBoundary:function(a,b){return m._isWordBoundary(m._classify(a),b)},_classify:function(a){for(var b,c=[],f=0,e,d,m=a.length,h=g.length,t;f<m;++f){b=a.charAt(f);t=12;for(e=0;e<h;++e)if((d=g[e])&&d.test(b)){t=e;break}c.push(t)}return c},_isWordBoundary:function(a,b){var c,f=a[b],e=a[b+1],d;if(0>b||b>a.length-
1&&0!==b||0===f&&0===e)return!1;d=a[b+2];if(0===f&&(2===e||1===e)&&0===d)return!1;c=a[b-1];return(2===f||1===f)&&0===e&&0===c||(4===f||0===f)&&(4===e||0===e)||(3===f||1===f)&&4===e&&4===c||4===f&&(3===e||1===e)&&4===d||(8===f||9===f||8===c||9===c||8===e||9===e)||5===f&&6===e?!1:7===f||5===f||6===f||7===e||5===e||6===e?!0:10===f&&10===e||11===e&&(0===f||4===f||10===f||11===f)||11===f&&(0===e||4===e||10===e)?!1:!0}};b.WordBreak=m},"3.17.2",{requires:["array-extras","text-data-wordbreak"]});
YUI.add("squarespace-models-domain",function(a){var d=a.Base.create("domain",a.Model,[a.Squarespace.ModelSync.REST],{url:a.Squarespace.REST_API_ROOT+"domains/{id}",root:a.Squarespace.REST_API_ROOT+"domains",getUnlockKey:function(){return new a.Promise(a.bind(function(b,c){a.Data.get({url:this.getURL("update")+"/unlock-key",success:function(a){b(a.key)},failure:c},this)},this))}},{ATTRS:{websiteId:{validator:a.Lang.isString},applicationSupplied:{value:!1,validator:a.Lang.isBoolean},dnsActive:{value:!1,
validator:a.Lang.isBoolean},googleDnsActive:{value:!1,validator:a.Lang.isBoolean},managed:{value:!1,validator:a.Lang.isBoolean},revokable:{value:!1,validator:a.Lang.isBoolean},withinPropagationWindow:{value:!1,validator:a.Lang.isBoolean},id:{validator:a.Lang.isString},name:{validator:a.Lang.isString}}});a.namespace("Squarespace.Models").Domain=d},"1.0",{requires:["base","model","promise","squarespace-model-sync-rest","squarespace-util"]});
YUI.add("squarespace-promises",function(a){function d(){}var b=a.namespace("Squarespace.Promises");b.all=function(){var b=new a.Array(arguments);return new a.Promise(function(d,h){var e=[],m=b.length,k=0,n=function(a){return function(b){k++;e[a]=b;k>=m&&d(e)}};a.Array.each(b,function(b,f){a.when(b).then(n(f),h)})})};b.resolve=function(a,b){return a.then(b)};b.reject=function(a,b){return a.then(d,b)};b.rejectWith=function(b){return a.Squarespace.Promises.create(function(a,d){d(b)})};b.finish=function(a,
b){return a.then(b,b)};b.chainFns=function(b,d){return function(){d=d||this;var h=0<b.length?b.shift().apply(d,arguments):a.when();return a.Array.reduce(b,h,function(b,c){return a.Squarespace.Promises.resolve(a.when(b),a.bind(c,d))})}};b.create=function(b,d){return new a.Promise(a.bind(b,d))}},"1.0",{requires:["promise"]});
YUI.add("squarespace-dialog-label",function(a){a.namespace("Squarespace.Plugin").DialogFieldLabel=a.Base.create("dialogFieldLabel",a.Plugin.Base,[],{initializer:function(a){this.afterHostMethod("renderUI",this._render,this);this.afterHostMethod("syncUI",this.syncLabel,this)},destructor:function(){a.detach(this.get("id")+"|*");var d=this.get("host"),b=d.get("boundingBox");d.get("rendered")&&(b&&b._node)&&d.get("boundingBox").removeClass(a.Squarespace.Plugin.DialogFieldLabel.CSS_PREFIX+"-plugged")},
_render:function(){this.renderLabel();this.bindLabel();this.syncLabel();this.get("host").get("boundingBox").addClass(a.Squarespace.Plugin.DialogFieldLabel.CSS_PREFIX+"-plugged")},renderLabel:function(){this._labelNode=a.Node.create("<label></label>");this._labelNode.addClass(a.Squarespace.Plugin.DialogFieldLabel.CSS_PREFIX);var d=this._labelNode;this.get("inField");var b=this.get("renderNode");this.get("strings.text");var c=this.get("className"),g=this.get("forNode"),h=this.get("host").get("contentBox");
c&&d.addClass(c);b?(a.Lang.isString(b)&&(b=h.one(b)),b.appendChild(d)):g?(a.Lang.isString(g)&&(g=h.one(g)),(b=g.getAttribute("id"))&&d.setAttribute("for",b),g.insert(d,"before")):(h.one("input")||h.one("select")||h.one("textarea")||h.one("button")).insert(d,"before")},bindLabel:function(){var a=this.get("id");this.on(a+"|classNameChange",function(a){this._labelNode.removeClass(a.prevVal);this._labelNode.addClass(a.newVal)},this)},syncLabel:function(){this._labelNode.setContent(this.get("strings.text"))}},
{NS:"label",CSS_PREFIX:"sqs-dialog-field-label",ATTRS:{strings:{value:{text:""}},renderNode:{value:null},className:{value:null},forNode:{value:null}}});a.namespace("Squarespace.DialogFields").DialogFieldLabel=function(d){a.Do.before(function(){this.plug(a.Squarespace.Plugin.DialogFieldLabel,a.merge({renderNode:d.labelRenderNode||null,forNode:d.labelForNode||null,className:d.labelClassName||null,"strings.text":this.get("strings.label")},d.labelConfig||{},this.getProperty("LABEL_CONFIG")||{}))},this,
"renderUI",this)};a.Squarespace.DialogFields.DialogFieldLabel.NAME="dialogFieldLabel"},"1.0",{requires:["base","node","plugin","squarespace-dialog-field-2"]});
YUI.add("squarespace-dialog-description",function(a){var d=a.namespace("Squarespace.DialogFields").Description=a.Base.create("descriptionField",a.Squarespace.DialogField2,[],{renderUI:function(){d.superclass.renderUI.call(this);var b=this.get("padding");this._descEl=this.get("contentBox").one(".custom-field-description");a.Lang.isArray(b)&&0<b.length&&this._descEl.setStyles({paddingTop:b[0],paddingBottom:b[1]});this._attachNode("title");this._attachNode("text")},bindUI:function(){d.superclass.bindUI.call(this);
this.after(["titleChange","textChange"],this.syncUI,this)},syncUI:function(){d.superclass.syncUI.call(this);this._descEl.empty();this._attachNode("title");this._attachNode("text")},_attachNode:function(b){var c=this.get(b);a.Lang.isString(c)&&0<c.length&&(attrNode=a.Node.create('<div class="'+b+'">'+c+"</div>"),this._descEl.append(attrNode))},_getAsString:function(b){return!a.Lang.isValue(b)?"":b+""},setTitle:function(a){this.set("title",a)},setText:function(a){this.set("text",a)}},{CSS_PREFIX:"sqs-description",
TEMPLATE:'<div class="custom-field-description"></div>',ATTRS:{title:{value:"",getter:this._getAsString},text:{value:"",getter:this._getAsString},className:{value:"",validator:a.Lang.isString},padding:{value:[],validator:a.Lang.isArray},focusable:{value:!1}}})},"1.0.0",{requires:["node","base","squarespace-dialog-field-2"]});
YUI.add("squarespace-murmurhash",function(a){function d(a){a=a.replace(/[\u0080-\u07ff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(192|a>>6,128|a&63)});return a=a.replace(/[\u0800-\uffff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(224|a>>12,128|a>>6&63,128|a&63)})}a.namespace("Squarespace");a.Squarespace.MurmurHash={hash:function(a,c){var g=d(a),h,e,m,k,n;h=g.length&3;e=g.length-h;m=c;for(n=0;n<e;)k=g.charCodeAt(n)&255|(g.charCodeAt(++n)&255)<<8|(g.charCodeAt(++n)&
255)<<16|(g.charCodeAt(++n)&255)<<24,++n,k=3432918353*(k&65535)+((3432918353*(k>>>16)&65535)<<16)&4294967295,k=k<<15|k>>>17,k=461845907*(k&65535)+((461845907*(k>>>16)&65535)<<16)&4294967295,m^=k,m=m<<13|m>>>19,m=5*(m&65535)+((5*(m>>>16)&65535)<<16)&4294967295,m=(m&65535)+27492+(((m>>>16)+58964&65535)<<16);k=0;switch(h){case 3:k^=(g.charCodeAt(n+2)&255)<<16;case 2:k^=(g.charCodeAt(n+1)&255)<<8;case 1:k^=g.charCodeAt(n)&255,k=3432918353*(k&65535)+((3432918353*(k>>>16)&65535)<<16)&4294967295,k=k<<15|
k>>>17,m^=461845907*(k&65535)+((461845907*(k>>>16)&65535)<<16)&4294967295}m^=g.length;m^=m>>>16;m=2246822507*(m&65535)+((2246822507*(m>>>16)&65535)<<16)&4294967295;m^=m>>>13;m=3266489909*(m&65535)+((3266489909*(m>>>16)&65535)<<16)&4294967295;return m^m>>>16}}},"1.0");
YUI.add("squarespace-widgets-alert",function(a){a.namespace("Squarespace.Widgets");a.Squarespace.Widgets.Alert=a.Base.create("alert",a.Squarespace.Widgets.Confirmation,[],{},{CSS_PREFIX:"sqs-widgets-confirmation",TYPE:a.Squarespace.Widgets.Confirmation.TYPE,ANCHOR:a.Squarespace.Widgets.Confirmation.ANCHOR,ATTRS:{className:{value:"alert"},style:{value:a.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_ONLY},"strings.confirm":{value:"Okay"}}})},"1.0",{requires:["base","squarespace-widgets-confirmation"]});
(function(a,d,b,c,g,h){function e(a,b){var f=typeof a[b];return"function"==f||!!("object"==f&&a[b])||"unknown"==f}function m(){if(!s(navigator.plugins)&&"object"==typeof navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"].description;a&&(!s(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&(C=a.match(/\d+/g))}if(!C){var b;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
C=Array.prototype.slice.call(b.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1)}catch(f){}}if(!C)return!1;a=parseInt(C[0],10);b=parseInt(C[1],10);M=9<a&&0<b;return!0}function k(){if(!D){D=!0;for(var a=0;a<J.length;a++)J[a]();J.length=0}}function n(a,b){D?a.call(b):J.push(function(){a.call(b)})}function p(){var a=parent;if(""!==G)for(var b=0,f=G.split(".");b<f.length;b++)a=a[f[b]];return a.easyXDM}function f(a){var b=a.toLowerCase().match(H);a=b[2];var f=b[3],b=b[4]||"";if("http:"==a&&":80"==
b||"https:"==a&&":443"==b)b="";return a+"//"+f+b}function l(a){a=a.replace(S,"$1/");if(!a.match(/^(http||https):\/\//)){var f="/"===a.substring(0,1)?"":b.pathname;"/"!==f.substring(f.length-1)&&(f=f.substring(0,f.lastIndexOf("/")+1));a=b.protocol+"//"+b.host+f+a}for(;O.test(a);)a=a.replace(O,"");return a}function u(a,b){var f="",e=a.indexOf("#");-1!==e&&(f=a.substring(e),a=a.substring(0,e));var e=[],c;for(c in b)b.hasOwnProperty(c)&&e.push(c+"="+h(b[c]));return a+(P?"#":-1==a.indexOf("?")?"?":"&")+
e.join("&")+f}function s(a){return"undefined"===typeof a}function v(a,b,f){var e,c;for(c in b)b.hasOwnProperty(c)&&(c in a?(e=b[c],"object"===typeof e?v(a[c],e,f):f||(a[c]=b[c])):a[c]=b[c]);return a}function t(a){if(s(I)){var b=d.body.appendChild(d.createElement("form")),f=b.appendChild(d.createElement("input"));f.name=A+"TEST"+F;I=f!==b.elements[f.name];d.body.removeChild(b)}I?b=d.createElement('<iframe name="'+a.props.name+'"/>'):(b=d.createElement("IFRAME"),b.name=a.props.name);b.id=b.name=a.props.name;
delete a.props.name;"string"==typeof a.container&&(a.container=d.getElementById(a.container));a.container||(v(b.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=d.body);f=a.props.src;a.props.src="javascript:false";v(b,a.props);b.border=b.frameBorder=0;b.allowTransparency=!0;a.container.appendChild(b);a.onLoad&&B(b,"load",a.onLoad);if(a.usePost){var e=a.container.appendChild(d.createElement("form")),c;e.target=b.name;e.action=f;e.method="POST";if("object"===typeof a.usePost)for(var l in a.usePost)a.usePost.hasOwnProperty(l)&&
(I?c=d.createElement('<input name="'+l+'"/>'):(c=d.createElement("INPUT"),c.name=l),c.value=a.usePost[l],e.appendChild(c));e.submit();e.parentNode.removeChild(e)}else b.src=f;a.props.src=f;return b}function r(c){var k=c.protocol,g;c.isHost=c.isHost||s(y.xdm_p);P=c.hash||!1;c.props||(c.props={});if(c.isHost)c.remote=l(c.remote),c.channel=c.channel||"default"+F++,c.secret=Math.random().toString(16).substring(2),s(k)&&(k=f(b.href)==f(c.remote)?"4":e(a,"postMessage")||e(d,"postMessage")?"1":c.swf&&e(a,
"ActiveXObject")&&m()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":c.remoteHelper?"2":"0");else{c.channel=y.xdm_c.replace(/["'<>\\]/g,"");c.secret=y.xdm_s;c.remote=y.xdm_e.replace(/["'<>\\]/g,"");var k=y.xdm_p,h;if(h=c.acl){a:{h=c.acl;var p=c.remote;"string"==typeof h&&(h=[h]);for(var n,t=h.length;t--;)if(n=h[t],n=RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(p)){h=!0;break a}h=!1}h=!h}if(h)throw Error("Access denied for "+
c.remote);}c.protocol=k;switch(k){case "0":v(c,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(c.isHost){if(!c.local){k=b.protocol+"//"+b.host;g=d.body.getElementsByTagName("img");for(p=g.length;p--;)if(h=g[p],h.src.substring(0,k.length)===k){c.local=h.src;break}c.local||(c.local=a)}k={xdm_c:c.channel,xdm_p:0};c.local===a?(c.usePolling=!0,c.useParent=!0,c.local=b.protocol+"//"+b.host+b.pathname+b.search,k.xdm_e=c.local,k.xdm_pa=1):k.xdm_e=l(c.local);c.container&&(c.useResize=
!1,k.xdm_po=1);c.remote=u(c.remote,k)}else v(c,{channel:y.xdm_c,remote:y.xdm_e,useParent:!s(y.xdm_pa),usePolling:!s(y.xdm_po),useResize:c.useParent?!1:c.useResize});g=[new q.stack.HashTransport(c),new q.stack.ReliableBehavior({}),new q.stack.QueueBehavior({encode:!0,maxLength:4E3-c.remote.length}),new q.stack.VerifyBehavior({initiate:c.isHost})];break;case "1":g=[new q.stack.PostMessageTransport(c)];break;case "2":c.remoteHelper=l(c.remoteHelper);g=[new q.stack.NameTransport(c),new q.stack.QueueBehavior,
new q.stack.VerifyBehavior({initiate:c.isHost})];break;case "3":g=[new q.stack.NixTransport(c)];break;case "4":g=[new q.stack.SameOriginTransport(c)];break;case "5":g=[new q.stack.FrameElementTransport(c)];break;case "6":C||m(),g=[new q.stack.FlashTransport(c)]}g.push(new q.stack.QueueBehavior({lazy:c.lazy,remove:!0}));return g}function x(a){for(var b,f={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},
destroy:function(){this.down.destroy()}},c=0,e=a.length;c<e;c++)b=a[c],v(b,f,!0),0!==c&&(b.down=a[c-1]),c!==e-1&&(b.up=a[c+1]);return b}function w(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var z=this,F=Math.floor(1E4*Math.random()),L=Function.prototype,H=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,O=/[\-\w]+\/\.\.\//,S=/([^:])\/\//g,G="",q={},T=a.easyXDM,A="easyXDM_",I,P=!1,C,M,B,E;if(e(a,"addEventListener"))B=function(a,b,f){a.addEventListener(b,f,!1)},E=function(a,b,f){a.removeEventListener(b,
f,!1)};else if(e(a,"attachEvent"))B=function(a,b,f){a.attachEvent("on"+b,f)},E=function(a,b,f){a.detachEvent("on"+b,f)};else throw Error("Browser not supported");var D=!1,J=[],K;"readyState"in d?(K=d.readyState,D="complete"==K||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==K||"interactive"==K)):D=!!d.body;if(!D){if(e(a,"addEventListener"))B(d,"DOMContentLoaded",k);else if(B(d,"readystatechange",function(){"complete"==d.readyState&&k()}),d.documentElement.doScroll&&a===top){var Q=function(){if(!D){try{d.documentElement.doScroll("left")}catch(a){c(Q,
1);return}k()}};Q()}B(a,"load",k)}var y=function(a){a=a.substring(1).split("&");for(var b={},f,c=a.length;c--;)f=a[c].split("="),b[f[0]]=g(f[1]);return b}(/xdm_e=/.test(b.search)?b.search:b.hash),N=function(){var a={},b={a:[1,2,3]};if("undefined"!=typeof JSON&&"function"===typeof JSON.stringify&&'{"a":[1,2,3]}'===JSON.stringify(b).replace(/\s/g,""))return JSON;Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(b).replace(/\s/g,"")&&(a.stringify=Object.toJSON);"function"===typeof String.prototype.evalJSON&&
(b='{"a":[1,2,3]}'.evalJSON(),b.a&&(3===b.a.length&&3===b.a[2])&&(a.parse=function(a){return a.evalJSON()}));return a.stringify&&a.parse?(N=function(){return a},a):null};v(q,{version:"2.4.16.3",query:y,stack:{},apply:v,getJSONObject:N,whenReady:n,noConflict:function(b){a.easyXDM=T;(G=b)&&(A="easyXDM_"+G.replace(".","_")+"_");return q}});q.DomHelper={on:B,un:E,requiresJSON:function(b){"object"==typeof a.JSON&&a.JSON||d.write('<script type="text/javascript" src="'+b+'">\x3c/script>')}};(function(){var a=
{};q.Fn={set:function(b,f){a[b]=f},get:function(b,f){var c=a[b];f&&delete a[b];return c}}})();q.Socket=function(a){var b=x(r(a).concat([{incoming:function(b,f){a.onMessage(b,f)},callback:function(b){if(a.onReady)a.onReady(b)}}])),c=f(a.remote);this.origin=f(a.remote);this.destroy=function(){b.destroy()};this.postMessage=function(a){b.outgoing(a,c)};b.init()};q.Rpc=function(a,b){if(b.local)for(var c in b.local)if(b.local.hasOwnProperty(c)){var e=b.local[c];"function"===typeof e&&(b.local[c]={method:e})}var d=
x(r(a).concat([new q.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=f(a.remote);this.destroy=function(){d.destroy()};d.init()};q.stack.SameOriginTransport=function(a){var e,d,l,k;return e={outgoing:function(a,b,f){l(a);f&&f()},destroy:function(){d&&(d.parentNode.removeChild(d),d=null)},onDOMReady:function(){k=f(a.remote);a.isHost?(v(a.props,{src:u(a.remote,{xdm_e:b.protocol+"//"+b.host+b.pathname,xdm_c:a.channel,xdm_p:4}),name:A+a.channel+"_provider"}),
d=t(a),q.Fn.set(a.channel,function(a){l=a;c(function(){e.up.callback(!0)},0);return function(a){e.up.incoming(a,k)}})):(l=p().Fn.get(a.channel,!0)(function(a){e.up.incoming(a,k)}),c(function(){e.up.callback(!0)},0))},init:function(){n(e.onDOMReady,e)}}};q.stack.FlashTransport=function(a){function e(a,b){c(function(){h.up.incoming(a,m)},0)}function k(b){var f=a.swf+"?host="+a.isHost,c="easyXDM_swf_"+Math.floor(1E4*Math.random());q.Fn.set("flash_loaded"+b.replace(/[\-.]/g,"_"),function(){q.stack.FlashTransport[b].swf=
p=s.firstChild;for(var a=q.stack.FlashTransport[b].queue,f=0;f<a.length;f++)a[f]();a.length=0});a.swfContainer?s="string"==typeof a.swfContainer?d.getElementById(a.swfContainer):a.swfContainer:(s=d.createElement("div"),v(s.style,M&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),d.body.appendChild(s));var e="callback=flash_loaded"+b.replace(/[\-.]/g,"_")+"&proto="+z.location.protocol+"&domain="+
z.location.href.match(H)[3]+"&port="+(z.location.href.match(H)[4]||"")+"&ns="+G;s.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+c+"' data='"+f+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+f+"'></param><param name='flashvars' value='"+e+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+e+"' allowScriptAccess='always' wmode='transparent' src='"+f+"' height='1' width='1'></embed></object>"}
var h,g,m,p,s;return h={outgoing:function(b,f,c){p.postMessage(a.channel,b.toString());c&&c()},destroy:function(){try{p.destroyChannel(a.channel)}catch(b){}p=null;g&&(g.parentNode.removeChild(g),g=null)},onDOMReady:function(){m=a.remote;q.Fn.set("flash_"+a.channel+"_init",function(){c(function(){h.up.callback(!0)})});q.Fn.set("flash_"+a.channel+"_onMessage",e);a.swf=l(a.swf);var d=a.swf.match(H)[3],s=function(){q.stack.FlashTransport[d].init=!0;p=q.stack.FlashTransport[d].swf;p.createChannel(a.channel,
a.secret,f(a.remote),a.isHost);a.isHost&&(M&&a.swfNoThrottle&&v(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),v(a.props,{src:u(a.remote,{xdm_e:f(b.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:A+a.channel+"_provider"}),g=t(a))};q.stack.FlashTransport[d]&&q.stack.FlashTransport[d].init?s():q.stack.FlashTransport[d]?q.stack.FlashTransport[d].queue.push(s):(q.stack.FlashTransport[d]={queue:[s]},k(d))},init:function(){n(h.onDOMReady,h)}}};q.stack.PostMessageTransport=function(e){function d(a){var c;
if(a.origin)c=f(a.origin);else if(a.uri)c=f(a.uri);else if(a.domain)c=b.protocol+"//"+a.domain;else throw"Unable to retrieve the origin of the event";c==g&&a.data.substring(0,e.channel.length+1)==e.channel+" "&&l.up.incoming(a.data.substring(e.channel.length+1),c)}var l,k,h,g;return l={outgoing:function(a,b,f){h.postMessage(e.channel+" "+a,b||g);f&&f()},destroy:function(){E(a,"message",d);k&&(h=null,k.parentNode.removeChild(k),k=null)},onDOMReady:function(){g=f(e.remote);if(e.isHost){var m=function(b){b.data==
e.channel+"-ready"&&(h="postMessage"in k.contentWindow?k.contentWindow:k.contentWindow.document,E(a,"message",m),B(a,"message",d),c(function(){l.up.callback(!0)},0))};B(a,"message",m);v(e.props,{src:u(e.remote,{xdm_e:f(b.href),xdm_c:e.channel,xdm_p:1}),name:A+e.channel+"_provider"});k=t(e)}else B(a,"message",d),h="postMessage"in a.parent?a.parent:a.parent.document,h.postMessage(e.channel+"-ready",g),c(function(){l.up.callback(!0)},0)},init:function(){n(l.onDOMReady,l)}}};q.stack.FrameElementTransport=
function(e){var l,k,h,g;return l={outgoing:function(a,b,f){h.call(this,a);f&&f()},destroy:function(){k&&(k.parentNode.removeChild(k),k=null)},onDOMReady:function(){g=f(e.remote);e.isHost?(v(e.props,{src:u(e.remote,{xdm_e:f(b.href),xdm_c:e.channel,xdm_p:5}),name:A+e.channel+"_provider"}),k=t(e),k.fn=function(a){delete k.fn;h=a;c(function(){l.up.callback(!0)},0);return function(a){l.up.incoming(a,g)}}):(d.referrer&&f(d.referrer)!=y.xdm_e&&(a.top.location=y.xdm_e),h=a.frameElement.fn(function(a){l.up.incoming(a,
g)}),l.up.callback(!0))},init:function(){n(l.onDOMReady,l)}}};q.stack.NameTransport=function(a){function b(f){m.contentWindow.sendMessage(f,a.remoteHelper+(g?"#_3":"#_2")+a.channel)}function e(){g?(2===++s||!g)&&h.up.callback(!0):(b("ready"),h.up.callback(!0))}function d(a){h.up.incoming(a,w)}function k(){r&&c(function(){r(!0)},0)}var h,g,m,p,s,r,w,R;return h={outgoing:function(a,f,c){r=c;b(a)},destroy:function(){m.parentNode.removeChild(m);m=null;g&&(p.parentNode.removeChild(p),p=null)},onDOMReady:function(){g=
a.isHost;s=0;w=f(a.remote);a.local=l(a.local);g?(q.Fn.set(a.channel,function(b){g&&"ready"===b&&(q.Fn.set(a.channel,d),e())}),R=u(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),v(a.props,{src:R+"#"+a.channel,name:A+a.channel+"_provider"}),p=t(a)):(a.remoteHelper=a.remote,q.Fn.set(a.channel,d));var b=function(){var f=m||this;E(f,"load",b);q.Fn.set(a.channel+"_load",k);(function V(){"function"==typeof f.contentWindow.sendMessage?e():c(V,50)})()};m=t({props:{src:a.local+"#_4"+a.channel},onLoad:b})},
init:function(){n(h.onDOMReady,h)}}};q.stack.HashTransport=function(b){function e(){if(p){var a=p.location.href,b="",f=a.indexOf("#");-1!=f&&(b=a.substring(f));b&&b!=g&&(g=b,d.up.incoming(g.substring(g.indexOf("_")+1),r))}}var d,l,k,h,g,m,p,u,s,r;return d={outgoing:function(a,f){if(u){var c=b.remote+"#"+m++ +"_"+a;(l||!s?u.contentWindow:u).location=c}},destroy:function(){a.clearInterval(k);(l||!s)&&u.parentNode.removeChild(u);u=null},onDOMReady:function(){l=b.isHost;h=b.interval;g="#"+b.channel;m=
0;s=b.useParent;r=f(b.remote);if(l){v(b.props,{src:b.remote,name:A+b.channel+"_provider"});if(s)b.onLoad=function(){p=a;k=setInterval(e,h);d.up.callback(!0)};else{var n=0,q=b.delay/50;(function U(){if(++n>q)throw Error("Unable to reference listenerwindow");try{p=u.contentWindow.frames[A+b.channel+"_consumer"]}catch(a){}p?(k=setInterval(e,h),d.up.callback(!0)):c(U,50)})()}u=t(b)}else p=a,k=setInterval(e,h),s?(u=parent,d.up.callback(!0)):(v(b,{props:{src:b.remote+"#"+b.channel+new Date,name:A+b.channel+
"_consumer"},onLoad:function(){d.up.callback(!0)}}),u=t(b))},init:function(){n(d.onDOMReady,d)}}};q.stack.ReliableBehavior=function(a){var b,f,c=0,e=0,d="";return b={incoming:function(a,l){var k=a.indexOf("_"),h=a.substring(0,k).split(",");a=a.substring(k+1);h[0]==c&&(d="",f&&(f(!0),f=null));0<a.length&&(b.down.outgoing(h[1]+","+c+"_"+d,l),e!=h[1]&&(e=h[1],b.up.incoming(a,l)))},outgoing:function(a,l,k){d=a;f=k;b.down.outgoing(e+","+ ++c+"_"+a,l)}}};q.stack.QueueBehavior=function(a){function b(){if(a.remove&&
0===e.length)w(f);else if(!d&&!(0===e.length||k)){d=!0;var l=e.shift();f.down.outgoing(l.data,l.origin,function(a){d=!1;l.callback&&c(function(){l.callback(a)},0);b()})}}var f,e=[],d=!0,l="",k,m=0,p=!1,u=!1;return f={init:function(){s(a)&&(a={});a.maxLength&&(m=a.maxLength,u=!0);a.lazy?p=!0:f.down.init()},callback:function(a){d=!1;var c=f.up;b();c.callback(a)},incoming:function(b,c){if(u){var e=b.indexOf("_"),d=parseInt(b.substring(0,e),10);l+=b.substring(e+1);0===d&&(a.encode&&(l=g(l)),f.up.incoming(l,
c),l="")}else f.up.incoming(b,c)},outgoing:function(c,d,l){a.encode&&(c=h(c));var k=[],g;if(u){for(;0!==c.length;)g=c.substring(0,m),c=c.substring(g.length),k.push(g);for(;g=k.shift();)e.push({data:k.length+"_"+g,origin:d,callback:0===k.length?l:null})}else e.push({data:c,origin:d,callback:l});p?f.down.init():b()},destroy:function(){k=!0;f.down.destroy()}}};q.stack.VerifyBehavior=function(a){function b(){c=Math.random().toString(16).substring(2);f.down.outgoing(c)}var f,c,e;return f={incoming:function(d,
l){var k=d.indexOf("_");-1===k?d===c?f.up.callback(!0):e||(e=d,a.initiate||b(),f.down.outgoing(d)):d.substring(0,k)===e&&f.up.incoming(d.substring(k+1),l)},outgoing:function(a,b,e){f.down.outgoing(c+"_"+a,b,e)},callback:function(f){a.initiate&&b()}}};q.stack.RpcBehavior=function(a,b){function f(a){a.jsonrpc="2.0";d.down.outgoing(l.stringify(a))}function c(a,b){var e=Array.prototype.slice;return function(){var c=arguments.length,d,l={method:b};0<c&&"function"===typeof arguments[c-1]?(1<c&&"function"===
typeof arguments[c-2]?(d={success:arguments[c-2],error:arguments[c-1]},l.params=e.call(arguments,0,c-2)):(d={success:arguments[c-1]},l.params=e.call(arguments,0,c-1)),h[""+ ++k]=d,l.id=k):l.params=e.call(arguments,0);a.namedParams&&1===l.params.length&&(l.params=l.params[0]);f(l)}}function e(a,b,c,d){if(c){var l,k;b?(l=function(a){l=L;f({id:b,result:a})},k=function(a,c){k=L;var e={id:b,error:{code:-32099,message:a}};c&&(e.error.data=c);f(e)}):l=k=L;"[object Array]"!==Object.prototype.toString.call(d)&&
(d=[d]);try{var h=c.method.apply(c.scope,d.concat([l,k]));s(h)||l(h)}catch(g){k(g.message)}}else b&&f({id:b,error:{code:-32601,message:"Procedure not found."}})}var d,l=b.serializer||N(),k=0,h={};return d={incoming:function(a,c){var d=l.parse(a);if(d.method)b.handle?b.handle(d,f):e(d.method,d.id,b.local[d.method],d.params);else{var k=h[d.id];d.error?k.error&&k.error(d.error):k.success&&k.success(d.result);delete h[d.id]}},init:function(){if(b.remote)for(var f in b.remote)b.remote.hasOwnProperty(f)&&
(a[f]=c(b.remote[f],f));d.down.init()},destroy:function(){for(var f in b.remote)b.remote.hasOwnProperty(f)&&a.hasOwnProperty(f)&&delete a[f];d.down.destroy()}}};z.easyXDM=q})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);YUI.add("thirdparty-easyxdm",function(a){},"2.4.16");
YUI.add("thirdparty-password-strength-async",function(a){(function(){var a;a=function(){var a,c;c=document.createElement("script");c.src="/universal/scripts-thirdparty/zxcvbn/zxcvbn-min.js";c.type="text/javascript";c.async=!0;a=document.getElementsByTagName("script")[0];return a.parentNode.insertBefore(c,a)};null!=window.attachEvent?window.attachEvent("onload",a):window.addEventListener("load",a,!1)}).call(this)},"1.0");
YUI.add("squarespace-plugin-progress-base",function(a){a.namespace("Squarespace.Plugin");a.Squarespace.Plugin.ProgressBase=a.Base.create("ProgressBase",a.Plugin.Base,[],{initializer:function(){this._renderContent();this._bindAttributeChanges();this._setClasses();this._bindContent()},destructor:function(){var d=this._contentEl;d.setStyle("opacity",0);a.later(this.get("unplugDelay"),d,d.remove);d=this.get("host");d.removeClass("progress-show-meter");d.removeClass("progress-show-cancel")},_renderContent:function(){var d=
this._contentEl=a.Node.create('<div class="progress-container"><div class="progress"><div class="cancel-process">Cancel</div></div></div>'),b=d.one(".progress");this._meterEl=a.Node.create(this.constructor.PROGRESS_METER_TEMPLATE);b.prepend(this._meterEl);this._cancelEl=d.one(".cancel-process");b=this.get("host");this.get("append")?b.append(d):b.prepend(d)},_bindAttributeChanges:function(){this.after(["showChange","showCancelChange"],this._setClasses,this)},_setClasses:function(){var a=this.get("host"),
b=this.get("show"),c=this.get("showCancel");a.toggleClass("progress-show-meter",b);this._meterEl.toggleClass("visible",b);a.toggleClass("progress-show-cancel",c);this._cancelEl.toggleClass("visible",c)},_bindContent:function(){this._cancelEl.on("click",function(a){a.halt();this.fire("cancel")},this)}},{NS:"progress",PROGRESS_METER_TEMPLATE:"",ATTRS:{show:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},showCancel:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},unplugDelay:{value:300,
validator:a.Squarespace.AttrValidators.isNumber},append:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean,writeOnce:"initOnly"}}})},"1.0",{requires:["base","node","plugin","squarespace-attr-validators"]});
YUI.add("squarespace-session-storage",function(a){a.namespace("Squarespace");var d=function(){return a.Lang.isValue(window.localStorage)};a.Squarespace.SessionStorage={saveSessionData:function(b,c,g){c={value:c};a.Lang.isDate(g)?c.expires=g.getTime():g=null;c=btoa(a.JSON.stringify(c));d()?window.localStorage.setItem(b,c):null===g?a.Cookie.set(b,c,{path:"/"}):a.Cookie.set(b,c,{path:"/",expires:g})},getSessionData:function(b){var c;c=d()?window.localStorage.getItem(b):a.Cookie.get(b);if(!a.Lang.isValue(c))return null;
c=a.JSON.parse(atob(c));return a.Lang.isNumber(c.expires)&&c.expires<(new Date).getTime()?(d()&&window.localStorage.removeItem(b),null):c.value},removeSessionData:function(b){d()&&window.localStorage.removeItem(b);a.Cookie.remove(b)}}},"1.0",{requires:["base","cookie"]});
YUI.add("squarespace-dialog-text-template",function(a){var d=a.Handlebars;(function(){var a=d.template;(d.templates=d.templates||{})["dialog-text.html"]=a(function(a,b,d,e,m){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,a.helpers);m=m||{};a="";var k,n=this.escapeExpression;if((e=d["if"].call(b,(k=b.strings,null==k||!1===k?k:k.title),{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var c,e;return c=""+('\n  <div class="title">'+n((e=(e=a.strings,null==e||!1===e?e:e.title),"function"===
typeof e?e.apply(a):e))+"</div>\n")},m),data:m}))||0===e)a+=e;a+='\n\n<input type="text" ';if((e=d["if"].call(b,b.maxLength,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var e,c;e='maxlength="';(c=d.maxLength)?c=c.call(a,{hash:{},data:b}):(c=a.maxLength,c="function"===typeof c?c.apply(a):c);return e+=n(c)+'"'},m),data:m}))||0===e)a+=e;a+="\n       ";if((e=d["if"].call(b,b.readOnly,{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){return'readonly="readonly"'},m),data:m}))||0===
e)a+=e;a+="\n       ";if((e=d["if"].call(b,b.selectAllOnFocus,{hash:{},inverse:this.noop,fn:this.program(7,function(a,b){return'onClick="this.select()"'},m),data:m}))||0===e)a+=e;a+="/>\n\n";if((e=d["if"].call(b,(k=b.strings,null==k||!1===k?k:k.description),{hash:{},inverse:this.noop,fn:this.program(9,function(a,b){var c,e,d;c='\n\n\t<div class="description">\n    ';if((d=(e=(e=a.strings,null==e||!1===e?e:e.description),"function"===typeof e?e.apply(a):e))||0===d)c+=d;return c+"\n  </div>\n\n"},m),
data:m}))||0===e)a+=e;return a+"\n"})})();a.Handlebars.registerPartial("dialog-text.html".replace("/","."),d.templates["dialog-text.html"])},"1.0",{requires:["handlebars-base"]});
YUI.add("squarespace-object-builder",function(a){function d(){var b=Array.prototype.slice.call(arguments),c=b.shift(),d=b[b.length-1],h="prependArrays"==d;"prependArrays"==d||"appendArrays"==d?b.pop():d=null;for(var g=0,f=b.length;g<f;g++)if(b[g])for(var l in b[g])d&&b[g][l]&&a.Lang.isArray(b[g][l])?c[l]=(h?b[g][l]:c[l]||[]).concat((h?c[l]:b[g][l])||[]):c[l]=b[g][l];return c}function b(a,c){for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){for(var h=a[d],g=0;g<c.length;g++){if("undefined"===
typeof c[g].test||c[g].test(a[d],d,a))c[g].each&&c[g].each(a[d],d,a),c[g].map&&(a[d]=c[g].map(a[d],d,a));if("undefined"===typeof a[d])break}null!==a[d]&&("object"===typeof a[d]&&!h.$dontRecurse)&&b(a[d],c);if(a[d]instanceof Array)for(h=0;h<c.length;h++)if("undefined"===typeof c[h].postTest||c[h].postTest(a[d]))c[h].post&&(a[d]=c[h].post(a[d],d,a))}return a}function c(c,h,g){var n={include:{test:function(a){return a&&a.$include},map:function(b){var f,c=b.$include;!a.Lang.isArray(c)&&!a.Lang.isObject(c[0])&&
(c=[c]);for(var e=0,h=c.length;e<h;e++){var m=c[e],n;if("string"===typeof m){var r=m.split(".");n=g;for(var x=0,w=r.length;x<w;x++)if(n[r[x]])n=a.clone(n[r[x]]);else throw"Bad path `"+m+"`: `"+r[x]+"` not found.";}else{if("object"===typeof m)for(var z in m)if("string"==typeof z&&-1!==z.indexOf(".")){r=z.split(".");for(x=n;0!==r.length;)if(w=r.shift(),0===r.length){x[w]=m[z];break}else{var F=[w].concat(r).join(".");x.hasOwnProperty(F)?r=[F]:(x.hasOwnProperty(w)||(x[w]={}),x=x[w])}delete m[z]}n=m}f=
d(f||(a.Lang.isArray(n)?[]:{}),n,"prependArrays")}b.$update&&(f.$update=b.$update);b.$concat&&(f.$concat=b.$concat);b.$when&&(f.$when=b.$when);return f}},update:{test:function(a){return a&&a.$update},each:function(c){function f(a,b){return function(c,f){return f===a&&c===b}}function e(b){return function(c,f,e){a.mix(e,b,!0)}}var d=[],g=c.$update;delete c.$update;for(var h in g)"."==h[0]?d.push({test:f("name",h.slice(1)),each:e(g[h])}):d.push({test:f("type",h),each:e(g[h])});return b(c,d)}},when:{test:function(a){return a&&
a.$when},map:function(b){if(a.Lang.isFunction(b.$when)&&b.$when(g)){if(b.$value)return b.$value;delete b.$when;return b}}},value:{test:function(a){return a&&a.$value},map:function(a){return g[a.$value]}},valueFn:{test:function(a){return a&&a.$valueFn},map:function(a){return a.$valueFn(g)}},template:{test:function(b,c,e){return a.Squarespace.StringTemplate&&"string"===typeof b&&!e.$escape},map:function(b){return a.Squarespace.StringTemplate.template(b,g)}},concat:{postTest:function(a){var b=!1;if(a&&
a instanceof Array)for(var c=0;c<a.length;c++)a[c]&&(a[c]instanceof Array&&a[c].$concat)&&(b=b||a[c].$concat);return b},post:function(a,b,c){b=[];for(c=0;c<a.length;c++)a[c]&&a[c]instanceof Array&&a[c].$concat?b=b.concat(a[c]):b.push(a[c]);return b}},trim:{postTest:function(b){return a.Lang.isArray(b)},post:function(b,c,e){c=b.filter(function(b){return!a.Lang.isUndefined(b)});b.$concat&&(c.$concat=b.$concat);return c}}};return b(a.merge(h),c.map(function(a){return n[a]}))}var g=a.namespace("Squarespace.StringTemplate");
g.filters={lower:function(a){return(a||"").toLowerCase()},capitalize:function(a){return 1>=a.length?a:a.charAt(0).toUpperCase()+a.slice(1)},withIndefiniteArticle:function(a){var b=["a","e","i","o","u"];return 0===a.length?a:-1!==b.indexOf(a.charAt(0).toLowerCase())?"an "+a:"a "+a}};g.template=function(b,c,d){d=a.merge(g.filters,d);return b.replace(/\{(\s*)([^\s|]+)((?:\|[^}]+)?)(\s*)\}/g,function(a,b,f,e,h){var g=c[f],v=!1;"undefined"==typeof g&&(v=!0);if(e){e=e.split("|").filter(function(a){return a});
for(var t=0,r=e.length;t<r;t++){var x=e[t].split(/[:,\s]+/g),w=x.shift();if(w)if(d[w])g=d[w](g,x,c);else if("'"==w[0]&&"'"===w[w.length-1]||'"'==w[9]&&'"'===w[w.length-1])g||(g=w.slice(1,-1));else throw"Unknown filter: `"+w+'` in "'+a+'"';}}v&&!g&&console.warn("Template var `"+f+'` not found in context. String: "'+a+'" Context:',c);return b+(g||"")+h})};var h=a.namespace("Squarespace.ObjectBuilder");h.operations="include update when value template concat trim".split(" ");h.walkObject=b;h.build=c;
h.make=function(a,b,d){a=c(["include","update"],a,b);return a=c("when value valueFn template concat trim".split(" "),a,d)}},"1.0",{requires:["oop"]});
YUI.add("autocomplete-sources",function(a,d){var b=a.AutoCompleteBase,c=a.Lang,g="_sourceSuccess",h="maxResults";a.mix(b.prototype,{_YQL_SOURCE_REGEX:/^(?:select|set|use)\s+/i,_beforeCreateObjectSource:function(b){return b instanceof a.Node&&"select"===b.get("nodeName").toLowerCase()?this._createSelectSource(b):a.JSONPRequest&&b instanceof a.JSONPRequest?this._createJSONPSource(b):this._createObjectSource(b)},_createIOSource:function(b){function c(f){var d=f.request;if(h._cache&&d in h._cache)h[g](h._cache[d],
f);else p&&p.isInProgress()&&p.abort(),p=a.io(h._getXHRUrl(b,f),{on:{success:function(b,c){var e;try{e=a.JSON.parse(c.responseText)}catch(l){a.error("JSON parse error",l)}e&&(h._cache&&(h._cache[d]=e),h[g](e,f))}}})}var d={type:"io"},h=this,p,f,l;d.sendRequest=function(b){f=b;l||(l=!0,a.use("io-base","json-parse",function(){d.sendRequest=c;c(f)}))};return d},_createJSONPSource:function(b){function c(a){var f=a.request,d=a.query;if(h._cache&&f in h._cache)h[g](h._cache[f],a);else b._config.on.success=
function(b){h._cache&&(h._cache[f]=b);h[g](b,a)},b.send(d)}var d={type:"jsonp"},h=this,p,f;d.sendRequest=function(l){p=l;f||(f=!0,a.use("jsonp",function(){b instanceof a.JSONPRequest||(b=new a.JSONPRequest(b,{format:a.bind(h._jsonpFormatter,h)}));d.sendRequest=c;c(p)}))};return d},_createSelectSource:function(a){var b=this;return{type:"select",sendRequest:function(c){var d=[];a.get("options").each(function(a){d.push({html:a.get("innerHTML"),index:a.get("index"),node:a,selected:a.get("selected"),text:a.get("text"),
value:a.get("value")})});b[g](d,c)}}},_createStringSource:function(a){return this._YQL_SOURCE_REGEX.test(a)?this._createYQLSource(a):-1!==a.indexOf("{callback}")?this._createJSONPSource(a):this._createIOSource(a)},_createYQLSource:function(b){function d(f){var m=f.query,n=k.get("yqlEnv"),p=k.get(h),r;r=c.sub(b,{maxResults:0<p?p:1E3,request:f.request,query:m});if(k._cache&&r in k._cache)k[g](k._cache[r],f);else m=function(a){k._cache&&(k._cache[r]=a);k[g](a,f)},p={proto:k.get("yqlProtocol")},l?(l._callback=
m,l._opts=p,l._params.q=r,n&&(l._params.env=n)):l=new a.YQLRequest(r,{on:{success:m},allowCache:!1},n?{env:n}:null,p),l.send()}var k=this,n={type:"yql"},p,f,l;k.get("resultListLocator")||k.set("resultListLocator",k._defaultYQLLocator);n.sendRequest=function(b){p=b;f||(f=!0,a.use("yql",function(){n.sendRequest=d;d(p)}))};return n},_defaultYQLLocator:function(b){(b=b&&b.query&&b.query.results)&&c.isObject(b)?(b=a.Object.values(b)||[],b=1===b.length?b[0]:b,c.isArray(b)||(b=[b])):b=[];return b},_getXHRUrl:function(a,
b){var d=this.get(h);b.query!==b.request&&(a+=b.request);return c.sub(a,{maxResults:0<d?d:1E3,query:encodeURIComponent(b.query)})},_jsonpFormatter:function(a,b,d){var g=this.get(h),p=this.get("requestTemplate");p&&(a+=p(d));return c.sub(a,{callback:b,maxResults:0<g?g:1E3,query:encodeURIComponent(d)})}});a.mix(b.ATTRS,{yqlEnv:{value:null},yqlProtocol:{value:"http"}});a.mix(b.SOURCE_TYPES,{io:"_createIOSource",jsonp:"_createJSONPSource",object:"_beforeCreateObjectSource",select:"_createSelectSource",
string:"_createStringSource",yql:"_createYQLSource"},!0)},"3.17.2",{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]});
YUI.add("squarespace-ui-lang",function(a){a.namespace("Squarespace.Lang").bindPricingPlanTooltips=function(){new a.Squarespace.ToolTip({target:".feature-page-limit",title:"Page Limit",body:"Squarespace's standard package has a limit of 20 pages.  Note that adding entries to your blog does not count against your page limit, even though each entry will have its own page.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-pages",title:"Unlimited Pages",body:"Squarespace's unlimited package does not place a limit on the number of pages on your site.",
dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-bandwidth-limit",title:"Bandwidth Limit",body:"Bandwidth is a measurement of how much traffic your site is serving to visitors.  Every image and page of your site must be downloaded by your visitors with every request.  The more media and video your site serves, the more bandwidth it will require.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-bandwidth",title:"Unlimited Bandwidth",
body:"Squarespace's unlimited package does not place any limits on the amount of traffic served to your site visitors.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-storage-limit",title:"Storage Limit",body:"Each image and video uploaded to your site contributes to your site's storage limit.  The more media you have on your website, the more storage it uses.  <strong>Please note that files uploaded to Squarespace are limited to 20mb in size.</strong>",
dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-storage",title:"Unlimited Storage",body:"Squarespace's unlimited package does not place any limits on the amount of storage your site is granted. <strong>Please note that files uploaded to Squarespace are limited to 20mb in size.</strong>",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-contributors",title:"Unlimited Contributors",body:"Squarespace's unlimited package allows you to invite multiple contributors to your site.  Contributors can be given individual permission levels, allowing them to optionally edit content, configure your website, manage billing, manage comments, or view your site's statistics.",
dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-contributors-limit",title:"Contributor Limit",body:"Squarespace's standard package allows you to invite one contributor to your site.  Contributors can be given individual permission levels, allowing them to optionally edit content, configure your website, manage billing, manage comments, or view your site's statistics.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-support",
title:"24/7 Premium Support",body:"All Squarespace packages include premium customer support from our award-winning customer care team.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-physicalproducts",title:"Unlimited Physical Products",body:"Squarespace places no limits on the number of physical products you list for sale in your store.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-digitalproducts",title:"Unlimited Digital Products",
body:"Squarespace places no limits on the number of digital products you list for sale in your store.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-mobilestore",title:"Mobile Store",body:"All Squarespace templates are mobile-ready with responsive designs, ensuring your customers can shop and checkout from your store on any device.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-inventory",title:"Inventory Tracking",
body:"View your shop inventory levels in real time. You can quickly sort items across your entire store by stock level, price, or title.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-coupon",title:"Tax, Shipping, and Coupon Controls",body:"Squarespace allows you to create multiple types of coupons for your store. Full tax and shipping rules by region also help you run your store effectively.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-mobilewebsite",
title:"Mobile-Ready Website",body:"All Squarespace templates are mobile-ready with responsive designs, ensuring your visitors can see your website on any device.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-limits",title:"Resource Limits",body:"Our entry level plan has generous limits on pages, bandwidth, and storage. It's a great fit for small sites.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-nolimits",
title:"Unlimited Pages, Bandwidth, Storage, and Contributors",body:"Scale with confidence. Squarespace's professional packages do not place any caps on your bandwidth and storage usage.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-allproducts",title:"Unlimited Phsyical, Digital and Service Products",body:"Squarespace commerce allows you to sell physical products, digital goods, and services from a single platform. Squarespace does not impose any limits on SKUs &mdash; create as many products as you like.",
dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-developers",title:"Developer Platform",body:"The Squarespace Developer Platform includes full HTML and CSS code control over Git and SFTP. To take advantage of these features, sign up for a developer-enabled account via http://developers.squarespace.com/.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-transactionfees",title:"No Transaction Fees",body:"Squarespace does not impose any additional transaction fees on top of those imposed by our payment processor.",
dialogTooltip:!0,showTimeout:200,clickToShow:!0});new a.Squarespace.ToolTip({target:".feature-free-domain",title:"Free Custom Domain",body:"All annual terms include a free custom domain of your choosing. Select between .COM, .ORG, .NET, .MOBI, .BIZ, or .INFO. If the domain is available, it's yours to keep. This will give your website a professional and custom look.",dialogTooltip:!0,showTimeout:200,clickToShow:!0});a.Array.each([{target:".feature-one-product",title:"1 Product",body:"Our entry level plan allows you to sell a single product."},
{target:".feature-limited-products",title:"20 Products",body:"Our professional plan allows you to sell up to 20 products."},{target:".feature-unlimited-products",title:"Unlimited Products",body:"Squarespace's Business package does not place limits on the number of products on your site."},{target:".feature-carrier-shipping",title:"Real-Time Carrier Shipping",body:"Squarespace automatically calculates real-time carrier shipping rates for USPS. Additional features assist with accurate package size calculations."},
{target:".feature-label-printing",title:"Label Printing via ShipStation",body:"Squarespace orders seamlessly sync with ShipStation, allowing labels to be printed in batch for all major carriers. Shipping status is synced between ShipStation and your Squarespace shop."},{target:".feature-xero",title:"Integrated Accounting",body:"Squarespace Commerce automatically syncs with Xero's cloud based accounting platform, allowing merchants to easily keep track of their revenue, expenses and tax liabilities"},
{target:".feature-ecommerce",title:"Fully Integrated E-Commerce",body:"Squarespace lets you sell digital and physical goods online. We provide inventory tracking, tax, shipping, coupon controls, and more. Squarespace never charges a transaction fee."}],function(d){return new a.Squarespace.ToolTip(a.merge({clickToShow:!0,showTimeout:200},d))})}},"1.0",{requires:["node","base","squarespace-ui-base"]});
YUI.add("router",function(a,d){function b(){b.superclass.constructor.apply(this,arguments)}var c=a.HistoryHash,g=a.QueryString,h=a.Array,e=a.Lang,m=a.Object,k=a.config.win,n=[],p=[];a.Router=a.extend(b,a.Base,{_regexURL:/^((?:[^\/#?:]+:\/\/|\/\/)[^\/]*)?([^?#]*)(\?[^#]*)?(#.*)?$/,_regexPathParam:/([:*])([\w\-]+)?/g,_regexUrlQuery:/\?([^#]*).*$/,_regexUrlOrigin:/^(?:[^\/#?:]+:\/\/|\/\/)[^\/]*/,initializer:function(b){var c=this;c._html5=c.get("html5");c._params={};c._routes=[];c._url=c._getURL();c._setRoutes(b&&
b.routes?b.routes:c.get("routes"));c._html5?(c._history=new a.HistoryHTML5({force:!0}),c._historyEvents=a.after("history:change",c._afterHistoryChange,c)):c._historyEvents=a.on("hashchange",c._afterHistoryChange,k,c);c.publish("ready",{defaultFn:c._defReadyFn,fireOnce:!0,preventable:!1});c.once("initializedChange",function(){a.once("load",function(){setTimeout(function(){c.fire("ready",{dispatched:!!c._dispatched})},20)})});n.push(this)},destructor:function(){var a=h.indexOf(n,this);-1<a&&n.splice(a,
1);this._historyEvents&&this._historyEvents.detach()},dispatch:function(){this.once("ready",function(){var a,b;this._ready=!0;this.upgrade()||(a=this._getRequest("dispatch"),b=this._getResponse(a),this._dispatch(a,b))});return this},getPath:function(){return this._getPath()},hasRoute:function(a){var b,c;if(!this._hasSameOrigin(a))return!1;this._html5||(a=this._upgradeURL(a));a=this.removeQuery(a.replace(this._regexUrlOrigin,""));c=this.match(a);if(!c.length)return!1;b=this.removeRoot(a);return!!h.filter(c,
function(a){return this._getParamValues(a,b)},this).length},match:function(a){var b=this.get("root");if(b){if(!this._pathHasRoot(b,a))return[];a=this.removeRoot(a)}return h.filter(this._routes,function(b){return-1<a.search(b.regex)})},param:function(a,b){this._params[a]=b;return this},removeRoot:function(a){var b=this.get("root"),c;a=a.replace(this._regexUrlOrigin,"");if(!b)return a;c=this.removeQuery(a);if(c===b||this._pathHasRoot(b,c))a=a.substring(b.length);return"/"===a.charAt(0)?a:"/"+a},removeQuery:function(a){return a.replace(/\?.*$/,
"")},replace:function(a){return this._queue(a,!0)},route:function(b,c){c=h(arguments,1,!0);var d,g;"string"===typeof b||e.isRegExp(b)?(c=h.flatten(c),d=[],g=this._getRegex(b,d),b={callbacks:c,keys:d,path:b,regex:g}):(c=h.flatten([b.callbacks||b.callback||[]].concat(c)),d=b.keys,g=b.regex||b.regexp,g||(d=[],g=this._getRegex(b.path,d)),b=a.merge(b,{callbacks:c,keys:d,path:b.path||g,regex:g}));this._routes.push(b);return this},save:function(a){return this._queue(a)},upgrade:function(){if(!this._html5)return!1;
var a=this._getHashPath();return a?(this.once("ready",function(){this.replace(a)}),!0):!1},_decode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},_dequeue:function(){var b=this,c;return!YUI.Env.windowLoaded?(a.once("load",function(){b._dequeue()}),this):(c=p.shift())?c():this},_dispatch:function(b,c){function d(n){var p;if(n)"route"===n?(g=[],d()):a.error(n);else if(n=g.shift())"string"===typeof n&&(p=n,(n=e[p])||a.error("Router: Callback not found: "+p,null,"router")),b.pendingCallbacks=
g.length,n.call(e,b,c,d);else if(n=h.shift())(m=e._getParamValues(n,k))?(b.params=m,b.route=n,b.pendingRoutes=h.length,g=n.callbacks.concat(),d()):d("route")}var e=this,h=e.match(b.path),g=[],k,m;e._dispatching=e._dispatched=!0;if(!h||!h.length)return e._dispatching=!1,e;k=e.removeRoot(b.path);d();e._dispatching=!1;return e._dequeue()},_getHashPath:function(a){a||(a=c.getHash());return a&&"/"===a.charAt(0)?this._joinURL(a):""},_getOrigin:function(){var b=a.getLocation();return b.origin||b.protocol+
"//"+b.host},_getParams:function(){return a.merge(this._params)},_getParamValues:function(a,b){var c,d;c=h.map(a.regex.exec(b)||[],function(a){return a&&this._decode(a)||""},this);if(c.length-1!==a.keys.length)return c;d=h.hash(a.keys,c.slice(1));return h.every(a.keys,function(a){var b=this._params[a],c=d[a];return b&&c&&"string"===typeof c?(c=e.isRegExp(b)?b.exec(c):b.call(this,c,a),!1!==c&&e.isValue(c)?(d[a]=c,!0):!1):!0},this)?d:!1},_getPath:function(){var b=!this._html5&&this._getHashPath()||
a.getLocation().pathname;return this.removeQuery(b)},_getPathRoot:function(){var b=a.getLocation().pathname;if("/"===b.charAt(b.length-1))return b;b=b.split("/");b.pop();return b.join("/")+"/"},_getQuery:function(){var b=a.getLocation(),d,e;if(this._html5)return b.search.substring(1);d=c.getHash();e=d.match(this._regexUrlQuery);return d&&e?e[1]:b.search.substring(1)},_getRegex:function(a,b){if(e.isRegExp(a))return a;if("*"===a)return/.*/;a=a.replace(this._regexPathParam,function(a,c,d){if(!d)return"*"===
c?".*":a;b.push(d);return"*"===c?"(.*?)":"([^/#?]+)"});return RegExp("^"+a+"$")},_getRequest:function(a){return{path:this._getPath(),query:this._parseQuery(this._getQuery()),url:this._getURL(),router:this,src:a}},_getResponse:function(a){return{req:a}},_getRoutes:function(){return this._routes.concat()},_getURL:function(){var b=a.getLocation().toString();this._html5||(b=this._upgradeURL(b));return b},_hasSameOrigin:function(b){(b=(b&&b.match(this._regexUrlOrigin)||[])[0])&&0===b.indexOf("//")&&(b=
a.getLocation().protocol+b);return!b||b===this._getOrigin()},_joinURL:function(a){var b=this.get("root");a=this.removeRoot(a);"/"===a.charAt(0)&&(a=a.substring(1));return b&&"/"===b.charAt(b.length-1)?b+a:b+"/"+a},_normalizePath:function(a){var b,c,d,e,h;if(!a||"/"===a)return"/";d=a.split("/");h=[];b=0;for(c=d.length;b<c;++b)e=d[b],".."===e?h.pop():e&&h.push(e);b="/"+h.join("/");"/"!==b&&"/"===a.charAt(a.length-1)&&(b+="/");return b},_parseQuery:g&&g.parse?g.parse:function(a){var b=this._decode;a=
a.split("&");for(var c=0,d=a.length,e={},h;c<d;++c)h=a[c].split("="),h[0]&&(e[b(h[0])]=b(h[1]||""));return e},_pathHasRoot:function(a,b){var c="/"===a.charAt(a.length-1)?a:a+"/";return 0===b.indexOf(c)},_queue:function(){var b=arguments,c=this;p.push(function(){c._html5?a.UA.ios&&5>a.UA.ios?c._save.apply(c,b):setTimeout(function(){c._save.apply(c,b)},1):(c._dispatching=!0,c._save.apply(c,b));return c});return!this._dispatching?this._dequeue():this},_resolvePath:function(b){if(!b)return a.getLocation().pathname;
"/"!==b.charAt(0)&&(b=this._getPathRoot()+b);return this._normalizePath(b)},_resolveURL:function(b){var c=b&&b.match(this._regexURL),d,e;if(!c)return a.getLocation().toString();d=c[1];b=c[2];e=c[3];c=c[4];if(d)return 0===d.indexOf("//")&&(d=a.getLocation().protocol+d),d+(b||"/")+(e||"")+(c||"");d=this._getOrigin()+this._resolvePath(b);if(b||e)return d+(e||"")+(c||"");e=this._getQuery();return d+(e?"?"+e:"")+(c||"")},_save:function(b,d){var e="string"===typeof b,h,g,k;if(e&&!this._hasSameOrigin(b))return a.error("Security error: The new URL must be of the same origin as the current URL."),
this;e&&(b=this._joinURL(b));this._ready=!0;if(this._html5)this._history[d?"replace":"add"](null,{url:b});else{h=a.getLocation().pathname;g=this.get("root");k=c.getHash();e||(b=k);if(g===h||g===this._getPathRoot())b=this.removeRoot(b);if(b===k)a.Router.dispatch();else c[d?"replaceHash":"setHash"](b)}return this},_setParams:function(b){this._params={};m.each(b,function(a,b){this.param(b,a)},this);return a.merge(this._params)},_setRoutes:function(a){this._routes=[];h.each(a,function(a){this.route(a)},
this);return this._routes.concat()},_upgradeURL:function(b){if(!this._hasSameOrigin(b))return b;var c=(b.match(/#(.*)$/)||[])[1]||"",d=a.HistoryHash.hashPrefix;d&&0===c.indexOf(d)&&(c=c.replace(d,""));return c&&(c=this._getHashPath(c))?this._resolveURL(c):b},_afterHistoryChange:function(a){a=a.src;var b=this._url,c=this._getURL();this._url=c;"popstate"===a&&(!this._ready||b.replace(/#.*$/,"")===c.replace(/#.*$/,""))||(a=this._getRequest(a),b=this._getResponse(a),this._dispatch(a,b))},_defReadyFn:function(a){this._ready=
!0}},{NAME:"router",ATTRS:{html5:{valueFn:function(){return a.Router.html5},writeOnce:"initOnly"},params:{value:{},getter:"_getParams",setter:"_setParams"},root:{value:""},routes:{value:[],getter:"_getRoutes",setter:"_setRoutes"}},html5:a.HistoryBase.html5&&(!a.UA.android||3<=a.UA.android),_instances:n,dispatch:function(){var a,b,c,d,e;a=0;for(b=n.length;a<b;a+=1)if(c=n[a])d=c._getRequest("dispatch"),e=c._getResponse(d),c._dispatch(d,e)}});a.Controller=a.Router},"3.17.2",{optional:["querystring-parse"],
requires:["array-extras","base-build","history"]});YUI.add("querystring-parse-simple",function(a,d){var b=a.namespace("QueryString");b.parse=function(a,d,h){h=h||"=";var e={},m=0;a=a.split(d||"&");d=a.length;for(var k;m<d;m++)k=a[m].split(h),0<k.length&&(e[b.unescape(k.shift())]=b.unescape(k.join(h)));return e};b.unescape=function(a){return decodeURIComponent(a.replace(/\+/g," "))}},"3.17.2",{requires:["yui-base"]});
YUI.add("squarespace-dialog-select",function(a){var d=a.namespace("Squarespace.DialogFields").Select=a.Base.create("select",a.Squarespace.DialogField2,[],{initializer:function(b){!a.Lang.isValue(b.data)&&a.Lang.isValue(b.defaultValue)&&this.set("data",b.defaultValue);a.Lang.isArray(b.optGroups)&&this.set("options",a.Array.reduce(b.optGroups,[],function(a,b){return a.concat(b.options)}))},renderUI:function(){d.superclass.renderUI.call(this);var a=this.get("contentBox");this._selectField=a.one("select");
this._selectField.setAttribute("name",this.get("name"));var c=this.get("dialog");c&&this._selectField.setAttribute("tabindex",c.getNextTabIndex());(c=this.get("autocompleteType"))&&this._selectField.setAttribute("x-autocompletetype",c);this._prevSelectFieldValue=null;this._renderOptions();this._updateLabel();this._updateStrings();this._updateIconClasses(this.get("icon"));this._set("errorFlyoutAnchor",a.one(".select-facade"))},bindUI:function(){d.superclass.bindUI.call(this);var a=this.get("id");this.get("contentBox");
this.after(a+"|optionsChange",function(){this._renderOptions();this._updateLabel();this.syncUI()},this);this.get("contentBox").one(".select-facade").on(a+"|click",function(a){"disabled"!==this._selectField.getAttribute("disabled")&&(a.halt(),"SELECT"!==a.target.get("tagName")&&this._selectField.simulate("mousedown"))},this);this._selectField.on("change",function(){var a=this.get("value"),b=this._selectField.get("value");b!==a&&(this.get("numeric")&&(b=parseInt(b,10)),this.set("data",b))},this);var c=
this.get("boundingBox"),g=this.getProperty("CSS_PREFIX")+"-focus";c.on(a+"|focus",function(){this._selectField.focus()},this);this._selectField.on(a+"|focus",function(){c.addClass(g)},this);this._selectField.on(a+"|blur",function(){c.removeClass(g)},this);this.after("stringsChange",this._updateStrings,this);this.after("iconChange",this._updateIcon,this)},syncUI:function(){d.superclass.syncUI.call(this);var b=this.get("data");!a.Lang.isUndefined(b)&&!a.Lang.isNull(b)&&this._uiSelectOption(b)},_updateIcon:function(a){this._updateIconClasses(a.newVal,
a.prevVal)},_updateIconClasses:function(b,c){var d=this.get("contentBox").one(".select-facade"),h=a.Lang.isString(b)&&0<b.length;a.Lang.isString(c)&&d.removeClass(c);h&&d.addClass(b);d.toggleClass("icon",h)},_updateStrings:function(a){this._renderTitle();this._renderDescription()},_renderOptions:function(){var b=this.get("options"),c=this.get("optGroups"),d=this._selectField;d.empty();a.Lang.isArray(c)?a.Array.each(c,this._renderOptGroup,this):(a.Array.each(b,function(a){this._renderOption(a,d)},
this),d.set("selectedIndex",-1))},_renderTitle:function(){var a=this.get("contentBox").one(".title");this.get("strings.title")?a.setContent(this.get("strings.title")):a.hide()},_renderDescription:function(){var a=this.get("contentBox").one(".description");this.get("strings.description")?a.setContent(this.get("strings.description")):a.hide()},_renderOptGroup:function(b){var c=a.Node.create("<optgroup></optgroup>");c.setAttribute("label",b.label);a.Array.each(b.options,function(a){this._renderOption(a,
c)},this);this._selectField.append(c)},_renderOption:function(b,c){var d=a.Node.create("<option></option>");d.setAttribute("value",b.value);d.setContent(b.label);b.disabled&&d.setAttribute("disabled","disabled");c.appendChild(d)},getOptionLabel:function(b){var c=this.get("options"),d=this.get("strings.labelTemplate")||"{label}",h="";if(a.Lang.isNull(b)||a.Lang.isUndefined(b))return h;a.Array.some(c,function(a,c){return a.value.toString()===b.toString()?(h=a.label,!0):!1},this);return a.substitute(d,
{label:h})},getOptionValue:function(b){var c=this.get("options"),d;if(a.Lang.isNull(d)||a.Lang.isUndefined(d))return d;a.Array.some(c,function(a,c){return a.label.toString()===b.toString()?(d=a.value,!0):!1},this);return d},_uiSelectOption:function(b){a.Lang.isUndefined(b)?console.warn(this.name+": Cannot select undefined value"):(a.Lang.isNull(b)||(b=b.toString(),this._selectField.set("value",b)),this._updateLabel())},_updateLabel:function(){this.hideError();var b=this.get("contentBox").one(".select-facade .label"),
c=this.get("data"),d=this.get("strings.placeholder"),h=this.getOptionLabel(c);a.Lang.isNull(c)||!h?(d?b.setContent(d):(console.warn(this.name+": No placeholder or option selected. (fieldname: "+this.get("name")+")"),b.setContent("&nbsp;")),b.addClass("empty")):(b.setContent(h),b.toggleClass("empty",0===c.length))},focus:function(){d.superclass.focus.call(this);this.get("rendered")&&this._selectField.focus()},blur:function(){d.superclass.blur.call(this);this.get("rendered")&&this._selectField.blur()},
disable:function(){d.superclass.disable.call(this);this.get("rendered")&&(this._selectField.setAttribute("disabled","disabled"),this.get("boundingBox").addClass(this.getProperty("CSS_PREFIX")+"-disabled"))},enable:function(){d.superclass.enable.call(this);this.get("rendered")&&(this._selectField.removeAttribute("disabled"),this.get("boundingBox").removeClass(this.getProperty("CSS_PREFIX")+"-disabled"))},_getErrors:function(){return this.get("required")&&this.isEmpty()?["This is a required field."]:
[]}},{CSS_PREFIX:"sqs-select",TEMPLATE:'<div class="title"></div><div class="select-facade sqs-disable-drag-selection"><div class="label"></div><select></select></div><div class="description"></div>',ATTRS:{data:{getter:function(b){return this.get("numeric")?!a.Lang.isNumber(parseInt(b,10))?0:parseInt(b,10):!a.Lang.isValue(b)?"":!a.Lang.isString(b)?b+"":b}},icon:{value:"",validator:a.Lang.isString},numeric:{value:!1},options:{value:[],setter:function(b){if(a.Lang.isArray(b))return b;if(a.Lang.isObject(b))return this.convertToOptionsArray(b)},
validator:function(b){if(!a.Lang.isArray(b))return console.warn(this.name+": options must be an array. Was:",b),!1;for(var c=b.length-1;0<=c;c--){var d=b[c];if(!d.hasOwnProperty("label"))return console.warn(this.name+": option had no label property. Was:",d),!1;if(!d.hasOwnProperty("value"))return console.warn(this.name+": option had no value property. Was:",d),!1}return!0}},optGroups:{value:null,validator:a.Squarespace.AttrValidators.isNullOrArray},strings:{value:{placeholder:"Select an option"}},
autocompleteType:a.Squarespace.AutocompleteTypeATTR},convertToOptionsArray:function(b){var c=[];if(a.Lang.isArray(b))return b;if(!a.Lang.isObject(b)&&!a.Lang.isValue(b))return console.warn("Could not convert to new style options, not an object."),c;a.Object.each(b,function(a,b){c.push({value:b,label:a.title||b})},this);return c}});a.Squarespace.DialogFields.LabeledSelect=a.Base.create("labeledSelect",a.Squarespace.DialogFields.Select,[a.Squarespace.DialogFields.DialogFieldLabel],{renderUI:function(){a.Squarespace.DialogFields.LabeledSelect.superclass.renderUI.call(this);
var b=this.get("contentBox");b.prepend('<div class="label-wrapper"></div>');this._set("errorFlyoutAnchor",b.one(".select-facade"))}},{CSS_PREFIX:"sqs-labeled-select",LABEL_CONFIG:{renderNode:".label-wrapper",forNode:"select"}})},"1.0",{requires:"base base-build node-event-simulate squarespace-dialog-field-2 squarespace-dialog-label squarespace-autocomplete-types".split(" ")});
YUI.add("squarespace-dialog-text",function(a){var d=a.namespace("Squarespace.DialogFields").Text=a.Base.create("text",a.Squarespace.DialogField2,[],{renderUI:function(){d.superclass.renderUI.call(this);var a=this.get("name"),b=this.get("autocompleteType");this._textField=this.get("contentBox").one("input[type]");this.get("dialog")&&this._textField.setAttribute("tabindex",this.get("dialog").getNextTabIndex());this._textField.set("type",this.get("password")?"password":"text");a&&this._textField.setAttribute("name",
a);b&&this._textField.setAttribute("x-autocompletetype",b);this._set("errorFlyoutAnchor",this._textField);this._textField.set("value",this.get("data"))},bindUI:function(){d.superclass.bindUI.call(this);this.get("id");this.after("dataChange",this._afterDataChange,this);this._textField.after("valuechange",this._afterValueChange,this);var b=this._textField.getDOMNode(),c="addEventListener";a.Lang.isFunction(b.attachEvent)&&(c="attachEvent");b[c]("focus",a.bind(this._afterFocus,this));b[c]("blur",a.bind(this._afterBlur,
this));this._textField.on("click",function(a){a.halt()});this._textField.after("keyup",function(a){13===a.keyCode&&this.get("submitOnEnter")&&(this.fire("submit"),(a=this.get("dialog"))&&a.saveAndClose())},this);this._textField.on("keypress",this.applyKeyFilter,this);!0===this.get("mailcheck")&&this._textField.plug(a.Squarespace.Plugin.MailCheck,{field:this});this.on("readOnlyChange",function(a){a.newVal?this._textField.setAttribute("readonly","readonly"):this._textField.removeAttribute("readonly")},
this)},syncUI:function(){d.superclass.syncUI.call(this);var a=this.get("strings.placeholder");a&&this._textField.setAttribute("placeholder",a);this.get("disabled")?this._textField.setAttribute("disabled","disabled"):this._textField.removeAttribute("disabled")},getErrors:function(){var a=this.get("data");return this.get("validator")(a)?this.get("required")&&this.isEmpty()?[this.get("strings.requiredFieldEmptyMessage")]:[]:[this.get("strings.validationFailMessage")]},isEmpty:function(){return""===this.get("data")},
focus:function(){d.superclass.focus.call(this);this.get("rendered")&&this._textField.focus()},select:function(){this.get("rendered")&&this._textField.select()},blur:function(){d.superclass.blur.call(this);this.get("rendered")&&this._textField.blur()},disable:function(){d.superclass.disable.call(this);this.get("rendered")&&this._textField.setAttribute("disabled","disabled")},enable:function(){d.superclass.enable.call(this);this.get("rendered")&&this._textField.removeAttribute("disabled")},applyKeyFilter:function(b){var c=
this.get("keyFilter"),d=this.get("keyFilterExplanation"),g;if(c&&(0===a.UA.gecko||b._event.isChar))g=String.fromCharCode(b.which),!g.match(RegExp(c))&&0<g.length&&(d&&this.showError(d),b.halt())},_afterDataChange:function(a){a.dataSync||this._textField.set("value",a.newVal||"",{dataSync:!0});this.hideError()},_afterValueChange:function(a){a.dataSync||this.set("data",a.newVal,{dataSync:!0})},_afterFocus:function(){"undefined"!==typeof CONFIG_PANEL&&CONFIG_PANEL.set("allowContextMenu",!0);a.UA.ie||
this.focus()},_afterBlur:function(){"undefined"!==typeof CONFIG_PANEL&&CONFIG_PANEL.set("allowContextMenu",!1);this.set("data",this._textField.get("value"),{dataSync:!0});this.blur()}},{CSS_PREFIX:"sqs-text",HANDLEBARS_TEMPLATE:"dialog-text.html",ATTRS:{strings:{value:{placeholder:"",validationFailMessage:"This must be a string.",requiredFieldEmptyMessage:"This is a required field."}},data:{value:"",setter:function(b){a.Lang.isValue(b)||(b="");return b},validator:function(b){return a.Lang.isString(b)||
!a.Lang.isValue(b)}},validator:{value:a.Lang.isString},password:{value:!1,validator:a.Lang.isBoolean},submitOnEnter:{value:!1,validator:a.Lang.isBoolean},disabled:{value:!1,validator:a.Lang.isBoolean},autocompleteType:a.Squarespace.AutocompleteTypeATTR,mailcheck:{value:!1,validator:a.Lang.isBoolean},keyFilter:{},keyFilterExplanation:{value:""},maxLength:{value:null},readOnly:{value:!1},selectAllOnFocus:{value:!1}}});a.Squarespace.DialogFields.LabeledText=a.Base.create("labeledText",a.Squarespace.DialogFields.Text,
[a.Squarespace.DialogFields.DialogFieldLabel],{},{CSS_PREFIX:"sqs-labeled-text",LABEL_CONFIG:{forNode:"input[type]"}});var b=a.Squarespace.DialogFields.MoneyText=a.Base.create("moneyText",a.Squarespace.DialogFields.Text,[],{renderUI:function(){b.superclass.renderUI.call(this);this.get("contentBox").one("input").plug(a.Squarespace.Plugin.MoneyFormatter)},bindUI:function(){var a=this.get("contentBox").one("input");a.on("valuechange",function(){this.set("data",a.moneyFormatterPlugin.get("data"))},this)}},
{CSS_PREFIX:"sqs-money-text",LABEL_CONFIG:{forNode:"input[type]"},ATTRS:{data:{value:0,validator:a.Lang.isNumber},validator:{value:a.Lang.isNumber},prefixUnit:{valueFn:function(){return a.Squarespace.Commerce.currencySymbol()}}}}),c=a.Squarespace.DialogFields.Email=a.Base.create("emailText",a.Squarespace.DialogFields.Text,[],{renderUI:function(){c.superclass.renderUI.call(this);this.get("contentBox").one("input").setAttribute("type","email")}},{CSS_PREFIX:"sqs-email-text",ATTRS:{mailcheck:{value:!0}}}),
g=a.Squarespace.DialogFields.Url=a.Base.create("urlText",a.Squarespace.DialogFields.Text,[],{renderUI:function(){g.superclass.renderUI.call(this);this._textField.wrap('<div class="sqs-input-wrapper-content"></div>');var a=this.get("contentBox").one(".sqs-input-wrapper-content");a.wrap('<div class="sqs-input-wrapper"></div>');a.prepend('<div class="prefix">'+this.get("prefix")+"</div>")},bindUI:function(){g.superclass.bindUI.call(this);this._textField.after("keyup",this.onKeyUp,this)},onKeyUp:function(b){var c=
this.get("filter"),d;if("url-slug"===c||"url-slug-with-slash"==c)d=this._textField.get("value"),c="url-slug"===c?a.Squarespace.Utils.createUrl(d):a.Squarespace.Utils.createUrlWithSlash(d),b=this._textField.selectionStart-(32==b.keyCode?0:1),d!=c&&(this._textField.set("value",c),this._textField.selectionStart=b,this._textField.selectionEnd=b)}},{CSS_PREFIX:"sqs-url-text",ATTRS:{filter:{value:"url-slug-with-slash"},prefix:{value:"/"}}})},"1.0",{requires:"base base-build event-valuechange squarespace-dialog-field-2 squarespace-autocomplete-types squarespace-dialog-text-template squarespace-dialog-label squarespace-mailcheck squarespace-attr-validators".split(" ")});
YUI.add("squarespace-signup-rpc",function(a){var d=function(b,c,d){a.Data.post({url:"/api/auth/AuthenticatedSignup",data:{page:"product",cloneIdentifier:b},success:function(a){c&&c(a)},failure:function(a){d&&d(a)}})};a.namespace("Squarespace").SignupRPC={createProvider:function(){var b=new easyXDM.Rpc({},{local:{signup:function(a,g,h){b.startLoading();d(a,function(a){b.stopLoading();g&&g(a)},function(a){b.stopLoading();h&&h(a)})},getMember:function(b,d){a.Data.get({url:"/api/auth/CheckAuthentication",
success:function(a){b&&b(a.member)},failure:function(a){d&&d(a)}})}},remote:{startLoading:{},stopLoading:{}}});return b},createConsumer:function(b,c){return new easyXDM.Rpc({remote:b+"/config/iframeSignup",container:c},{local:{startLoading:function(){a.Squarespace.Signup._startSpinner(!0)},stopLoading:function(){a.Squarespace.Signup._stopSpinner()}},remote:{signup:{},getMember:{}}})}}},"1.0",{requires:["thirdparty-easyxdm","squarespace-signup","squarespace-util"]});
YUI.add("autocomplete-filters",function(a,d){var b=a.Array,c=a.Object,g=a.Text.WordBreak,h=a.mix(a.namespace("AutoCompleteFilters"),{charMatch:function(a,c,d){if(!a)return c;var g=b.unique((d?a:a.toLowerCase()).split(""));return b.filter(c,function(a){a=a.text;d||(a=a.toLowerCase());return b.every(g,function(b){return-1!==a.indexOf(b)})})},charMatchCase:function(a,b){return h.charMatch(a,b,!0)},phraseMatch:function(a,c,d){if(!a)return c;d||(a=a.toLowerCase());return b.filter(c,function(b){return-1!==
(d?b.text:b.text.toLowerCase()).indexOf(a)})},phraseMatchCase:function(a,b){return h.phraseMatch(a,b,!0)},startsWith:function(a,c,d){if(!a)return c;d||(a=a.toLowerCase());return b.filter(c,function(b){return 0===(d?b.text:b.text.toLowerCase()).indexOf(a)})},startsWithCase:function(a,b){return h.startsWith(a,b,!0)},subWordMatch:function(a,c,d){if(!a)return c;var h=g.getUniqueWords(a,{ignoreCase:!d});return b.filter(c,function(a){var c=d?a.text:a.text.toLowerCase();return b.every(h,function(a){return-1!==
c.indexOf(a)})})},subWordMatchCase:function(a,b){return h.subWordMatch(a,b,!0)},wordMatch:function(a,d,h){if(!a)return d;var n={ignoreCase:!h},p=g.getUniqueWords(a,n);return b.filter(d,function(a){var d=b.hash(g.getUniqueWords(a.text,n));return b.every(p,function(a){return c.owns(d,a)})})},wordMatchCase:function(a,b){return h.wordMatch(a,b,!0)}})},"3.17.2",{requires:["array-extras","text-wordbreak"]});
